vXOO=new Array(0x40);vOXO=new Array(0x40);vOOX=new Array(0x40);vOOO=new Array(0x40);vOOOO=new Array(0x40);vZpt=new Array(0x40);ai_ndrq=[0,0,0,0];T_STRATEGY_QUICK=-1;T_STRATEGY_NORMAL=0;T_STRATEGY_HEAVY= 1;T_STRATEGY_LESS_HEAVY= 2;t_marked=[0, 0, 0, 0];t_dgr=new Array(0x40);t_jd=new Array();i=4; while(--i>-1){t_jd[i]=new Object();t_jd[i].rsv=0;}think_noFulou=0;dpcd=new Array();mpcd=new Array();danger=new Array();dpcd_ctr=0;th_dched=new Object();noDapai_tbl=new Array(0x40);vYaku=new Array(0x40);vPtn=new Array(20);i=20; while(--i>-1){vPtn[i]=new Object();vPtn[i].pi=0;vPtn[i].xt=0;vPtn[i].value=0;vPtn[i].type=0;}vPtn_ctr=0;vDanger=new Array(0x40);i=0x40; while(--i>-1) vYaku[i]=vDanger[i]=0;vDanger_limit=60;vDanger_limit_heavy=1024;dvDanger=10;MAX_PTNS=24;THINK_SHUNZI=0x1000;THINK_LIANGMEN=0x2000;THINK_QIANZHANG=0x4000;THINK_QIANZHANG2=0x9000;THINK_BIANZHANG=0xA000;THINK_KEZI=0x5000;THINK_DUIZI=0x6000;THINK_QIDUIZI=0x7000;THINK_KOXI=0x8000;THINK_ISOLATED=0xf000;THINK_USELESS=0xe000;t_pbuff_s=new Array(16);t_pt_s=new Array(4);i=4; while(--i>-1){t_pt_s[i]=new Object();t_pt_s[i].ctr=0;t_pt_s[i].d=new Array(MAX_PTNS);j=MAX_PTNS; while(--j>-1){t_pt_s[i].d[j]=new Object();t_pt_s[i].d[j].dat=new Array(20);t_pt_s[i].d[j].mzCtr=0;t_pt_s[i].d[j].duCtr=0;t_pt_s[i].d[j].daCtr=0;}}t_pt=new Array(MAX_PTNS);t_ptCtr=0;t_xian=0;i=MAX_PTNS; while(--i>-1){t_pt[i]=new Object();t_pt[i].attr=0;t_pt[i].pt=new Array(20);t_pt[i].shunzi_ctr=0;t_pt[i].shunzi=new Array(6);t_pt[i].kezi_ctr=0;t_pt[i].kezi=new Array(6);t_pt[i].duizi_ctr=0;t_pt[i].duizi=new Array(8);t_pt[i].liangmen_ctr=0;t_pt[i].liangmen=new Array(8);t_pt[i].qianzhang_ctr=0;t_pt[i].qianzhang=new Array(8);t_pt[i].bianzhang_ctr=0;t_pt[i].bianzhang=new Array(8);t_pt[i].isolated_ctr=0;t_pt[i].isolated=new Array(20);t_pt[i].useless_ctr=0;t_pt[i].useless=new Array(20);t_pt[i].discard=0;T_PT_CD_ANKE=1;T_PT_CD_DUIZI=2;T_PT_CD_DAZI=4;}t_changefan=0;function a0138(jia){var x;var i, j, k;x=a0000(jia, 1);if(_t[jia].fulou_ctr) return(x);_t_shupai_move(jia);j=0; k=0; i=0x38; while(--i>0x30){if(_t_bipai2[i]>0){j++;if(_t_bipai2[i]>1 && k<1){ j++; k++; }}else if(vZpt[i]<1) return(x);}i=-0x10; while((i+=0x10)<0x30){if(_t_bipai2[i+1]>0){j++;if(_t_bipai2[i+1]>1 && k<1){ j++; k++; }}else if(vZpt[i+1]<1) return(x);if(_t_bipai2[i+9]>0){j++;if(_t_bipai2[i+9]>1 && k<1){ j++; k++; }}else if(vZpt[i+9]<1) return(x);}if(x>13-j) x=13-j;return(x);}function a0132(jia, xt){var x1=13, y1=0, x2, y2, xx=255, y, v, v2, i, j;var p1=new Array(), p2=new Array(), p3=new Array(), vv=new Array(), pp=0;if(_t[jia].fulou_ctr) return(0);if(_t[jia].score>_t[0].score){if(xt<4) return(0);}_t_shupai_move(jia);i=0x38; while(--i>0x30){if(_t_bipai2[i]>0){ --x1; ++y1; continue; }if(vZpt[i]>0) ++y1;}if(y1<5) return(0);x2=x1; y2=y1; v2=0;if(_t_bipai2[0x01]>0){ --x2; ++y2; } else if(vZpt[0x01]>0){ ++y2; v2+=vZpt[0x01]; }if(_t_bipai2[0x04]>0){ --x2; ++y2; } else if(vZpt[0x04]>0){ ++y2; v2+=vZpt[0x04]; }if(_t_bipai2[0x07]>0){ --x2; ++y2; } else if(vZpt[0x07]>0){ ++y2; v2+=vZpt[0x07]; }x=x2; y=y2; v=v2;if(_t_bipai2[0x12]>0){ --x; ++y; } else if(vZpt[0x12]>0){ ++y; v+=vZpt[0x12]; }if(_t_bipai2[0x15]>0){ --x; ++y; } else if(vZpt[0x15]>0){ ++y; v+=vZpt[0x15]; }if(_t_bipai2[0x18]>0){ --x; ++y; } else if(vZpt[0x18]>0){ ++y; v+=vZpt[0x18]; }if(_t_bipai2[0x23]>0){ --x; ++y; } else if(vZpt[0x23]>0){ ++y; v+=vZpt[0x23]; }if(_t_bipai2[0x26]>0){ --x; ++y; } else if(vZpt[0x26]>0){ ++y; v+=vZpt[0x26]; }if(_t_bipai2[0x29]>0){ --x; ++y; } else if(vZpt[0x29]>0){ ++y; v+=vZpt[0x29]; }if(y>13 && xx>=x){if(xx>x){ xx=x; pc=0; }p1[pc]=0x00; p2[pc]=0x10; p3[pc]=0x20; vv[pc++]=v;}x=x2; y=y2; v=v2;if(_t_bipai2[0x13]>0){ --x; ++y; } else if(vZpt[0x13]>0){ ++y; v+=vZpt[0x13]; }if(_t_bipai2[0x16]>0){ --x; ++y; } else if(vZpt[0x16]>0){ ++y; v+=vZpt[0x16]; }if(_t_bipai2[0x19]>0){ --x; ++y; } else if(vZpt[0x19]>0){ ++y; v+=vZpt[0x19]; }if(_t_bipai2[0x22]>0){ --x; ++y; } else if(vZpt[0x22]>0){ ++y; v+=vZpt[0x22]; }if(_t_bipai2[0x25]>0){ --x; ++y; } else if(vZpt[0x25]>0){ ++y; v+=vZpt[0x25]; }if(_t_bipai2[0x28]>0){ --x; ++y; } else if(vZpt[0x28]>0){ ++y; v+=vZpt[0x28]; }if(y>13 && xx>=x){if(xx>x){ xx=x; pc=0; }p1[pc]=0x00; p2[pc]=0x20; p3[pc]=0x10; vv[pc++]=v;}x2=x1; y2=y1; v2=0;if(_t_bipai2[0x02]>0){ --x2; ++y2; } else if(vZpt[0x02]>0){ ++y2; v2+=vZpt[0x02]; }if(_t_bipai2[0x05]>0){ --x2; ++y2; } else if(vZpt[0x05]>0){ ++y2; v2+=vZpt[0x05]; }if(_t_bipai2[0x08]>0){ --x2; ++y2; } else if(vZpt[0x08]>0){ ++y2; v2+=vZpt[0x08]; }x=x2; y=y2; v=v2;if(_t_bipai2[0x11]>0){ --x; ++y; } else if(vZpt[0x11]>0){ ++y; v+=vZpt[0x11]; }if(_t_bipai2[0x14]>0){ --x; ++y; } else if(vZpt[0x14]>0){ ++y; v+=vZpt[0x14]; }if(_t_bipai2[0x17]>0){ --x; ++y; } else if(vZpt[0x17]>0){ ++y; v+=vZpt[0x17]; }if(_t_bipai2[0x23]>0){ --x; ++y; } else if(vZpt[0x23]>0){ ++y; v+=vZpt[0x23]; }if(_t_bipai2[0x26]>0){ --x; ++y; } else if(vZpt[0x26]>0){ ++y; v+=vZpt[0x26]; }if(_t_bipai2[0x29]>0){ --x; ++y; } else if(vZpt[0x29]>0){ ++y; v+=vZpt[0x29]; }if(y>13 && xx>=x){if(xx>x){ xx=x; pc=0; }p1[pc]=0x10; p2[pc]=0x00; p3[pc]=0x20; vv[pc++]=v;}x=x2; y=y2; v=v2;if(_t_bipai2[0x13]>0){ --x; ++y; } else if(vZpt[0x13]>0){ ++y; v+=vZpt[0x13]; }if(_t_bipai2[0x16]>0){ --x; ++y; } else if(vZpt[0x16]>0){ ++y; v+=vZpt[0x16]; }if(_t_bipai2[0x19]>0){ --x; ++y; } else if(vZpt[0x19]>0){ ++y; v+=vZpt[0x19]; }if(_t_bipai2[0x21]>0){ --x; ++y; } else if(vZpt[0x21]>0){ ++y; v+=vZpt[0x21]; }if(_t_bipai2[0x24]>0){ --x; ++y; } else if(vZpt[0x24]>0){ ++y; v+=vZpt[0x24]; }if(_t_bipai2[0x27]>0){ --x; ++y; } else if(vZpt[0x27]>0){ ++y; v+=vZpt[0x27]; }if(y>13 && xx>=x){if(xx>x){ xx=x; pc=0; }p1[pc]=0x20; p2[pc]=0x00; p3[pc]=0x10; vv[pc++]=v;}x2=x1; y2=y1; v2=0;if(_t_bipai2[0x03]>0){ --x2; ++y2; } else if(vZpt[0x03]>0){ ++y2; v2+=vZpt[0x03]; }if(_t_bipai2[0x06]>0){ --x2; ++y2; } else if(vZpt[0x06]>0){ ++y2; v2+=vZpt[0x06]; }if(_t_bipai2[0x08]>0){ --x2; ++y2; } else if(vZpt[0x09]>0){ ++y2; v2+=vZpt[0x09]; }x=x2; y=y2; v=v2;if(_t_bipai2[0x11]>0){ --x; ++y; } else if(vZpt[0x11]>0){ ++y; v+=vZpt[0x11]; }if(_t_bipai2[0x14]>0){ --x; ++y; } else if(vZpt[0x14]>0){ ++y; v+=vZpt[0x14]; }if(_t_bipai2[0x17]>0){ --x; ++y; } else if(vZpt[0x17]>0){ ++y; v+=vZpt[0x17]; }if(_t_bipai2[0x22]>0){ --x; ++y; } else if(vZpt[0x22]>0){ ++y; v+=vZpt[0x22]; }if(_t_bipai2[0x25]>0){ --x; ++y; } else if(vZpt[0x25]>0){ ++y; v+=vZpt[0x25]; }if(_t_bipai2[0x28]>0){ --x; ++y; } else if(vZpt[0x28]>0){ ++y; v+=vZpt[0x28]; }if(y>13 && xx>=x){if(xx>x){ xx=x; pc=0; }p1[pc]=0x10; p2[pc]=0x20; p3[pc]=0x00; vv[pc++]=v;}x=x2; y=y2; v=v2;if(_t_bipai2[0x12]>0){ --x; ++y; } else if(vZpt[0x12]>0){ ++y; v+=vZpt[0x12]; }if(_t_bipai2[0x15]>0){ --x; ++y; } else if(vZpt[0x15]>0){ ++y; v+=vZpt[0x15]; }if(_t_bipai2[0x18]>0){ --x; ++y; } else if(vZpt[0x18]>0){ ++y; v+=vZpt[0x18]; }if(_t_bipai2[0x21]>0){ --x; ++y; } else if(vZpt[0x21]>0){ ++y; v+=vZpt[0x21]; }if(_t_bipai2[0x24]>0){ --x; ++y; } else if(vZpt[0x24]>0){ ++y; v+=vZpt[0x24]; }if(_t_bipai2[0x27]>0){ --x; ++y; } else if(vZpt[0x27]>0){ ++y; v+=vZpt[0x27]; }if(y>13 && xx>=x){if(xx>x){ xx=x; pc=0; }p1[pc]=0x20; p2[pc]=0x10; p3[pc]=0x00; vv[pc++]=v;}if(_t[jia].score>_t[0].score){if(pc<1 || xt<xx) return(0);}else {if(pc<1 || 3<xx) return(0);}if(xx>1){i=pc; while(--i>-1){if(_t_bipai2[p1[i]+1]<1) _t[jia].required[p1[i]+1]+=12;if(_t_bipai2[p1[i]+4]<1) _t[jia].required[p1[i]+4]+=12;if(_t_bipai2[p1[i]+7]<1) _t[jia].required[p1[i]+7]+=12;if(_t_bipai2[p2[i]+2]<1) _t[jia].required[p2[i]+2]+=12;if(_t_bipai2[p2[i]+5]<1) _t[jia].required[p2[i]+5]+=12;if(_t_bipai2[p2[i]+8]<1) _t[jia].required[p2[i]+8]+=12;if(_t_bipai2[p3[i]+3]<1) _t[jia].required[p3[i]+3]+=12;if(_t_bipai2[p3[i]+6]<1) _t[jia].required[p3[i]+6]+=12;if(_t_bipai2[p3[i]+9]<1) _t[jia].required[p3[i]+9]+=12;}i=0x30; while(++i<0x38){if(_t_bipai2[i]<1) _t[jia].required[i]+=12;}}i=_t[jia].menfeng; while(--i>0x30){if(i==_t_zhuangfeng[0]) continue;if(_t_bipai2[i]>1) return(i);}i=0x35; while(--i>_t[jia].menfeng){if(i==_t_zhuangfeng[0]) continue;if(_t_bipai2[i]>1) return(i);}i=0x38; while(--i>0x30){if(_t_bipai2[i]>1) return(i);}var vt=new Array();i=0x40; while(--i>=0) vt[i]=0;while(--pc>-1){vt[p1[pc]+1]+=vv[pc];vt[p1[pc]+4]+=vv[pc];vt[p1[pc]+7]+=vv[pc];vt[p2[pc]+2]+=vv[pc];vt[p2[pc]+5]+=vv[pc];vt[p2[pc]+8]+=vv[pc];vt[p3[pc]+3]+=vv[pc];vt[p3[pc]+6]+=vv[pc];vt[p3[pc]+9]+=vv[pc];}v=-1; j=0;i=5; while(--i>-1){if(_t_bipai2[0x25+i]){if(v<0 || v>vt[0x25+i]){ v=vt[0x25+i]; j=0x25+i; }}if(_t_bipai2[0x25-i]){if(v<0 || v>vt[0x25-i]){ v=vt[0x25-i]; j=0x25-i; }}if(_t_bipai2[0x15+i]){if(v<0 || v>vt[0x15+i]){ v=vt[0x15+i]; j=0x15+i; }}if(_t_bipai2[0x15-i]){if(v<0 || v>vt[0x15-i]){ v=vt[0x15-i]; j=0x15-i; }}if(_t_bipai2[0x05+i]){if(v<0 || v>vt[0x05+i]){ v=vt[0x05+i]; j=0x05+i; }}if(_t_bipai2[0x05-i]){if(v<0 || v>vt[0x05-i]){ v=vt[0x05-i]; j=0x05-i; }}}return(j);}function a0129(jia, xt){var x1=13, y1=0, x2=1, x3=0, x4=0, x5=0, i, j;if(_t[jia].fulou_ctr) return(0);if(_t_gamemode==_T_GAMEMODE_TAIWAN) return(0);_t_shupai_move(jia);i=0x38; while(--i>0x30){x3+=_t_bipai2[i];if(_t_bipai2[i]>0){x5+=_t_bipai2[i]-1;--x1; ++y1; ++x4;if(_t_bipai2[i]>1 && --x2>-1) --x1;continue;}if(vZpt[i]>0) ++y1;}i=-0x08+1; while((i+=0x08)<0x30){x3+=_t_bipai2[i];if(_t_bipai2[i]>0){x5+=_t_bipai2[i]-1;--x1; ++y1; ++x4;if(_t_bipai2[i]>1 && --x2>-1) --x1;}else if(vZpt[i]>0) ++y1;}if(y1<13) return(0);if(xt<x1 && 4<x1) return(0);i=_t_nukidora.length; while(--i>-1){if((j=_t_nukidora[i])<1 || j>0x37) continue;if(j<0x30 && (j & 0x0f)!=1 && (j & 0x0f)!=9) continue;if(_t_bipai2[j]<2) ai_ndrq[i]=1;}if(x3>x4 && x4<11){i=0x30; while(++i<0x38){if(_t_bipai2[i]<1) _t[jia].required[i]+=256;}i=-0x01-8; while((i+=0x08)<0x30){if(_t_bipai2[i]<1) _t[jia].required[i]+=256;}}if(x5>1){i=_t[jia].menfeng; while(--i>0x30){if(i==_t_zhuangfeng[0] || i==_t_zhuangfeng[1]) continue;if(_t_bipai2[i]>1) return(i);}i=0x35; while(--i>_t[jia].menfeng){if(i==_t_zhuangfeng[0] || i==_t_zhuangfeng[1]) continue;if(_t_bipai2[i]>1) return(i);}i=0x30; while(++i<0x38){if(_t_bipai2[i]>1) return(i);}i=-0x01-8; while((i+=0x08)<0x30){if(_t_bipai2[i]>1) return(i);}}i=0; while(++i<5){if(_t_bipai2[0x25+i]>0) return(0x25+i);if(_t_bipai2[0x25-i]>0) return(0x25-i);if(_t_bipai2[0x15+i]>0) return(0x15+i);if(_t_bipai2[0x15-i]>0) return(0x15-i);if(_t_bipai2[0x05+i]>0) return(0x05+i);if(_t_bipai2[0x05-i]>0) return(0x05-i);}}function a0175(jia){var i, j, k=0;var p=new Array();i=0x40; while(--i>=0) p[i]=0;i=-1; while(++i<_t_dora_disp_ctr){p[_t_dora[i]]++;}i=20; while(--i>0){j=_t[jia].shupai[i] & 0x3f;if(j<1 || j>0x37) continue;k+=p[j]; vYaku[j]+=0x0100*p[j];if(_t[jia].shupai[i] & 0x40){k++; vYaku[j]+=0x0100;}}return(k);}function a0130(jia, xt){return(0);}function a0131(jia, xt){var i;if(t_ptCtr!=1 || !t_pt[0].attr) return(0);_t_shupai_move(jia);i=0x40; while(--i>=0){if(_t_bipai2[i]==2 ||  _t_bipai2[i]==4){vYaku[i]+=0x1800; continue;}if(_t_bipai2[i]==1 && vZpt[i]>0) vYaku[i]+=0x1800;}return(24);}function a0133(jia, xt){var i, j, x, k, l, m, p1, p2, p3, ptn;var zz=new Array();var p=new Array();if(_t[jia].fulou_ctr>1) return(0);_t_shupai_move(jia);i=0x40; while(--i>-1){zz[i]=0;if(_t_bipai2[i]+vZpt[i]>0) zz[i]=1;}l=0;if(zz[0x01]+zz[0x04]+zz[0x07]>2){i=0;if(_t_bipai2[0x01]>0) ++i; if(_t_bipai2[0x04]>0) ++i; if(_t_bipai2[0x07]>0) ++i; j=i;if(zz[0x12]+zz[0x15]+zz[0x18]+zz[0x23]+zz[0x26]+zz[0x29]>5){if(_t_bipai2[0x12]>0) ++i; if(_t_bipai2[0x15]>0) ++i; if(_t_bipai2[0x18]>0) ++i;if(_t_bipai2[0x23]>0) ++i; if(_t_bipai2[0x26]>0) ++i; if(_t_bipai2[0x29]>0) ++i;if(l<i){ l=i; p1=0x00; p2=0x10; p3=0x20; }}if(zz[0x13]+zz[0x16]+zz[0x19]+zz[0x22]+zz[0x25]+zz[0x28]>5){i=j;if(_t_bipai2[0x13]>0) ++i; if(_t_bipai2[0x16]>0) ++i; if(_t_bipai2[0x19]>0) ++i;if(_t_bipai2[0x22]>0) ++i; if(_t_bipai2[0x25]>0) ++i; if(_t_bipai2[0x28]>0) ++i;if(l<i){ l=i; p1=0x00; p2=0x20; p3=0x10; }}}if(zz[0x02]+zz[0x05]+zz[0x08]>2){i=0;if(_t_bipai2[0x02]>0) ++i; if(_t_bipai2[0x05]>0) ++i; if(_t_bipai2[0x08]>0) ++i; j=i;if(zz[0x11]+zz[0x14]+zz[0x17]+zz[0x23]+zz[0x26]+zz[0x29]>5){if(_t_bipai2[0x11]>0) ++i; if(_t_bipai2[0x14]>0) ++i; if(_t_bipai2[0x17]>0) ++i;if(_t_bipai2[0x23]>0) ++i; if(_t_bipai2[0x26]>0) ++i; if(_t_bipai2[0x29]>0) ++i;if(l<i){ l=i; p1=0x10; p2=0x00; p3=0x20; }}if(zz[0x13]+zz[0x16]+zz[0x19]+zz[0x21]+zz[0x24]+zz[0x27]>5){i=j;if(_t_bipai2[0x13]>0) ++i; if(_t_bipai2[0x16]>0) ++i; if(_t_bipai2[0x19]>0) ++i;if(_t_bipai2[0x21]>0) ++i; if(_t_bipai2[0x24]>0) ++i; if(_t_bipai2[0x27]>0) ++i;if(l<i){ l=i; p1=0x20; p2=0x00; p3=0x10; }}}if(zz[0x03]+zz[0x06]+zz[0x09]>2){i=0;if(_t_bipai2[0x03]>0) ++i; if(_t_bipai2[0x06]>0) ++i; if(_t_bipai2[0x09]>0) ++i; j=i;if(zz[0x11]+zz[0x14]+zz[0x17]+zz[0x22]+zz[0x25]+zz[0x28]>5){if(_t_bipai2[0x11]>0) ++i; if(_t_bipai2[0x14]>0) ++i; if(_t_bipai2[0x17]>0) ++i;if(_t_bipai2[0x22]>0) ++i; if(_t_bipai2[0x25]>0) ++i; if(_t_bipai2[0x28]>0) ++i;if(l<i){ l=i; p1=0x10; p2=0x20; p3=0x00; }}if(zz[0x12]+zz[0x15]+zz[0x18]+zz[0x21]+zz[0x24]+zz[0x27]>5){i=j;if(_t_bipai2[0x12]>0) ++i; if(_t_bipai2[0x15]>0) ++i; if(_t_bipai2[0x18]>0) ++i;if(_t_bipai2[0x21]>0) ++i; if(_t_bipai2[0x24]>0) ++i; if(_t_bipai2[0x27]>0) ++i;if(l<i){ l=i; p1=0x20; p2=0x10; p3=0x00; }}}if(l<7) return(0);_t_bipai2[p1+1]--; _t_bipai2[p1+4]--; _t_bipai2[p1+7]--;_t_bipai2[p2+2]--; _t_bipai2[p2+5]--; _t_bipai2[p2+8]--;_t_bipai2[p3+3]--; _t_bipai2[p3+6]--; _t_bipai2[p3+9]--;i=0x40; while(--i>=0) p[i]=_t_bipai2[i];if(_t_bipai2[p1+1]<0) _t[jia].required[p1+1]+=12;if(_t_bipai2[p1+4]<0) _t[jia].required[p1+4]+=12;if(_t_bipai2[p1+7]<0) _t[jia].required[p1+7]+=12;if(_t_bipai2[p2+2]<0) _t[jia].required[p2+2]+=12;if(_t_bipai2[p2+5]<0) _t[jia].required[p2+5]+=12;if(_t_bipai2[p2+8]<0) _t[jia].required[p2+8]+=12;if(_t_bipai2[p3+3]<0) _t[jia].required[p3+3]+=12;if(_t_bipai2[p3+6]<0) _t[jia].required[p3+6]+=12;if(_t_bipai2[p3+9]<0) _t[jia].required[p3+9]+=12;if(_t[jia].fulou_ctr){i=_t[jia].fuloupai[0] & 0x3f;if(i>0x34){i=0; while(++i<0x38){if(i>0x30 && i<0x35) continue;if(_t_bipai2[i]>0) break;}if(i<0x38){i=0x30; while(++i<0x35){if(_t_bipai2[i]==2){_t_bipai2[i]=0; break;}if(_t_bipai2[i]==1 && vZpt[i]>0){_t_bipai2[i]=0;_t[jia].required[i]+=18;}}}else {i=0x30; k=0; m=-1; while(++i<0x35){if(_t_bipai2[i]==2 && vZpt[i]>0){m=i; break;}if(_t_bipai2[i]==1 && k<vZpt[i]){m=i; k=vZpt[i];}}if(m>-1){if(_t_bipai2[m]==1) _t[jia].required[m]+=18;_t_bipai2[m]--;}}}else if(i>0x34){i=0; while(++i<0x35){if(_t_bipai2[i]>0) break;}if(i<0x35){i=0x35; while(++i<0x38){if(_t_bipai2[i]==2){_t_bipai2[i]=0; break;}if(_t_bipai2[i]==1 && vZpt[i]>0){_t_bipai2[i]=0;_t[jia].required[i]+=18;}}}else {i=0x35; k=0; m=-1; while(++i<0x38){if(_t_bipai2[i]==2 && vZpt[i]>0){m=i; break;}if(_t_bipai2[i]==1 && (k<vZpt[i])){m=i; k=vZpt[i];}}if(m>-1){if(_t_bipai2[m]==1) _t[jia].required[m]+=18;_t_bipai2[m]--;}}}else if(i!=(_t[jia].fuloupai[1] & 0x3f)){i=0x30; while(++i<0x38){if(_t_bipai2[i]>0) return(i);}}i=a0137(jia);return(i);}x=0; ptn=-1;i=0x38; while(--i>0){if(p[i]>2){x+=3; ptn=0;break;}}if(x<3){i=0x38; while(--i>0){if(p[i]>1　&& vZpt[i]>0){j=0x38; while(--j>0){if(i==j) continue;if(p[j]>1) break;}if(j>0){ ptn=3; x=4; }break;}}}if(x<3){i=0; while(++i<0x28){if(p[i]>0 && p[i+1]>p[i] && p[i+2]>p[i]){p[i]--; p[i+1]--; p[i+2]--; x+=3; ptn=1;break;}if(p[i]>2 && p[i+1]>0 && p[i+2]>0){p[i]--; p[i+1]--; p[i+2]--; x+=3; ptn=1;break;}}if(i<0x28){j=0; while(++j<0x38){if(p[j]>1){ x+=2; break; }}}}if(x<3){i=0; while(++i<0x28){if(p[i]>0 && p[i+1]>0){p[i]--; p[i+1]--; x+=2; ptn=1;break;}if(p[i]>0 && p[i+2]>0){p[i]--; p[i+2]--; x+=2; ptn=1;break;}}if(i<0x28){j=0; while(++j<0x38){if(p[j]>1){ x+=2; break; }}}}if((x=12-l-x)<1) x=0;if(xt<x) return(0);i=0x40; while(--i>=0) _t_bipai2[i]=p[i];m=-1; k=0; i=0x34; while(++i<0x38){if(_t_bipai2[i]>=3){m=i; break;}if(_t_bipai2[i]==2 && k<vZpt[i]){m=i; k=vZpt[i];}}if(m<0x38){_t_bipai2[m]-=3;i=0; while(++i<0x38){if(i>0x30 && i<0x35) continue;if(_t_bipai2[i]>0) break;}if(i<0x38){i=0x30; while(++i<0x35){if(_t_bipai2[i]==2 || (_t_bipai2[i]==1 && vZpt[i]>0)){_t_bipai2[i]-=2;_t[jia].required[i]+=18;}}}else {l=-1; k=0; i=0x30; while(++i<0x35){if(_t_bipai2[i]==2){ l=i; break; }if(_t_bipai2[i]==1 && k<vZpt[i]){l=i; k=vZpt[i];}}if(l>-1) _t_bipai2[l]--;}vOOOO[m]+=18; if(_t_bipai2[m]<0){vOOO[m]+=18;_t[jia].required[m]+=18;}if((i=a0137(jia))<1){i=0x40; while(--i>=0) _t_bipai2[i]=p[i];i=a0137(jia);_t_bipai2[m]-=3;}return(i);}m=-1; k=0; i=0x30; while(++i<0x35){if(_t_bipai2[i]>=3){m=i; break;}if(_t_bipai2[i]==2 && k<vZpt[i]){m=i; k=vZpt[i];}}if(m<0x35){_t_bipai2[m]-=3;i=0; while(++i<0x35){if(_t_bipai2[i]>0) break;}if(i<0x35){i=0x34; while(++i<0x38){if(_t_bipai2[i]==2 || (_t_bipai2[i]==1 && vZpt[i]>0)){_t_bipai2[i]-=2;_t[jia].required[i]+=18;}}}else {l=-1; k=0; i=0x34; while(++i<0x38){if(_t_bipai2[i]==2){ l=i; break; }if(_t_bipai2[i]==1 && k<vZpt[i]){l=i; k=vZpt[i];}}if(l>-1) _t_bipai2[l]--;}vOOOO[m]+=18; if(_t_bipai2[m]<0){vOOO[m]+=18;_t[jia].required[m]+=18;}if((i=a0137(jia))<1){i=0x40; while(--i>=0) _t_bipai2[i]=p[i];_t_bipai2[m]-=3;i=a0137(jia);}return(i);}var v=new Array(0x40);i=0x40; while(--i>=0){v[i]=1;if((j=_t_bipai2[i])>0) v[i] <<= i;}i=0x30; while(--i>=0){if(_t_bipai2[i]>0){v[i-1]+=32;v[i+1]+=32;}}m=-1; k=-1;i=_t[jia].menfeng; while(--i>0x30){if(i==_t_zhuangfeng[0]) continue;if(_t_bipai2[i]<1) continue;if(k<0 || k>v[i]){k=v[i]; m=i;}}i=0x34; while(--i>_t[jia].menfeng){if(i==_t_zhuangfeng[0]) continue;if(_t_bipai2[i]<1) continue;if(k<0 || k>v[i]){k=v[i]; m=i;}}i=0x38; while(--i>0x30){if(_t_bipai2[i]<1) continue;if(k<0 || k>v[i]){k=v[i]; m=i;}}i=-1; while(++i<5){if(_t_bipai2[0x25+i]>0 && (k<0 || k>v[0x25+i])){ k=v[0x25+i]; m=0x25+i; }if(_t_bipai2[0x25-i]>0 && (k<0 || k>v[0x25-i])){ k=v[0x25-i]; m=0x25-i; }if(_t_bipai2[0x15+i]>0 && (k<0 || k>v[0x15+i])){ k=v[0x15+i]; m=0x15+i; }if(_t_bipai2[0x15-i]>0 && (k<0 || k>v[0x15-i])){ k=v[0x15-i]; m=0x15-i; }if(_t_bipai2[0x05+i]>0 && (k<0 || k>v[0x05+i])){ k=v[0x05+i]; m=0x05+i; }if(_t_bipai2[0x05-i]>0 && (k<0 || k>v[0x05-i])){ k=v[0x05-i]; m=0x05-i; }}if(m>0) return(m);i=a0137(jia);return(i);}function a0122(jia){var i, j, k, l, m;var st=-1, zp=0;var mzs=[0,0,0,0];var das=[0,0,0,0];var dus=[0,0,0,0];var ysok=new Array(MAX_PTNS), qyok=new Array(MAX_PTNS), ysokf=-1, qyokf=0;var noFulou=1;var yh=0x0200, yq=0x0500, ml=4;var XOO=new Array(0x40);var OXO=new Array(0x40);var OOX=new Array(0x40);var OOO=new Array(0x40);if(_t_players==3 && _t_gamemode!=_T_GAMEMODE_BEINUKI && _t_gamemode!=_T_GAMEMODE_PENGLI) return(0);if(_t_gamemode==_T_GAMEMODE_TAIWAN){yh=0x0400; yq=0x0800; ml=5;}else if(_t_gamemode==_T_GAMEMODE_GUOJI){yh=0x0600; yq=0x1800;}else if(_t_gamemode==_T_GAMEMODE_ARSHIAR){yh=0x0100; yq=0x0300;}else if(_t_gamemode==_T_GAMEMODE_BOO){yh=0x0200; yq=0x0400;}else if(_t_gamemode==_T_GAMEMODE_BEINUKI){yh=0; yq=0x0600;}else if(!_t[jia].menqian_flag){yh=0x0300; yq=0x0600;}i=_t[jia].fulou_ctr; k=-5; while(--i>-1){k+=5;if((j=_t[jia].fuloupai[k] & 0x3f)>0x30){zp++;if(j>0x34 || j==_t_zhuangfeng[0] || j==_t_zhuangfeng[0] || j==_t[jia].menfeng) noFulou=0;continue;}if(st<0){st=j >> 4; continue;}if(st!=j >> 4) return(0);}i=MAX_PTNS; while(--i>-1){ ysok[i]=-1; qyok[i]=0; }l=t_ptCtr; while(--l>-1){if(t_pt[l].attr) continue;mzs=[0,0,0,0];das=[0,0,0,0];dus=[0,0,0,0];if(st>-1){ mzs[st]=_t[jia].fulou_ctr-zp; mzs[3]=zp; }i=t_pt[l].shunzi_ctr; while(--i>-1){j=(t_pt[l].shunzi[i] & 0x3f) >> 4;mzs[j]++;}i=t_pt[l].kezi_ctr; while(--i>-1){j=(t_pt[l].kezi[i] & 0x3f) >> 4;mzs[j]++;if(j>0x34 || j==_t_zhuangfeng[0] || j==_t_zhuangfeng[0] || j==_t[jia].menfeng) noFulou=0;}i=t_pt[l].qianzhang_ctr; while(--i>-1){j=(t_pt[l].qianzhang[i] & 0x3f) >> 4;das[j]++;}i=t_pt[l].bianzhang_ctr; while(--i>-1){j=(t_pt[l].bianzhang[i] & 0x3f) >> 4;das[j]++;}i=t_pt[l].liangmen_ctr; while(--i>-1){j=(t_pt[l].liangmen[i] & 0x3f) >> 4;das[j]++;}i=t_pt[l].duizi_ctr; while(--i>-1){j=(t_pt[l].duizi[i] & 0x3f) >> 4;dus[j]++;}i=3; while(--i>-1){if(st>-1 && st!=i) continue;if(mzs[i]+dus[i]+das[i]+mzs[3]+dus[3]+das[3]>ml){st=ysokf=ysok[l]=i;if(mzs[i]+dus[i]+das[i]>ml && zp<1) qyokf=qyok[l]=1;break;}}}if(ysokf<0) return(0);_t_shupai_move(jia);if(!qyokf) yq=yh;i=0x30; while(++i<0x38){if(_t_bipai2[i]<4 && _t_bipai2[i]+vZpt[i]>1) vYaku[i]+=yh;}j=st << 4; i=10; while(--i>0){++j; vYaku[j]+=yq;}_t[jia].neraiyaku+=yq >> 8;if((_t_gamemode==_T_GAMEMODE_REACH || _t_gamemode==_T_GAMEMODE_CHIP_MAHJONG || _t_gamemode==_T_GAMEMODE_EASTERN_BOO) && !_t[jia].menqian_flag){if(qyokf) noFulou=0;i=_t_dora_disp_ctr; while(--i>-1){j=_t_dora[i] & 0x3f; m=0;k=20; while(--k>-1){if((l=_t[jia].shupai[k] & 0x3f)==j) m++;}if(j<0x30 && j >> 4!=st && m>1) return(0);if(m>1) noFulou=0;}if(noFulou) return(1);}i=0x40; while(--i>-1) XOO[i]=OXO[i]=OOX[i]=OOO[i]=0;l=t_ptCtr; while(--l>-1){if(ysok[l]<0) continue;i=t_pt[l].qianzhang_ctr; while(--i>-1){j=t_pt[l].qianzhang[i] & 0x3f;if((j >> 4)!=st) continue;OXO[j+1]+=4; _t[jia].required[j+1]+=4;}i=t_pt[l].bianzhang_ctr; while(--i>-1){j=t_pt[l].bianzhang[i] & 0x3f;if((j >> 4)!=st) continue;if((j & 0x0f)==1){XOO[j-1]+=4;_t[jia].required[j-1]+=16;}else {OOX[j+2]+=4;_t[jia].required[j+2]+=16;}}i=t_pt[l].liangmen_ctr; while(--i>-1){j=t_pt[l].liangmen[i] & 0x3f;if((j >> 4)!=st) continue;XOO[j-1]++; OOX[j+2]++;_t[jia].required[j-1]++;_t[jia].required[j+2]++;}i=t_pt[l].duizi_ctr; while(--i>-1){j=t_pt[l].duizi[i] & 0x3f;if(j>0x30){if(qyok[l]) continue;OOO[j]++;continue;}if((j >> 4)!=st) continue;OOO[j]++;}}i=0x38; while(--i>30){if(OOO[i]) vOOO[i]+=yh;}i=0x30; while(--i>0){if(OOO[i]) vOOO[i]+=yq;if(OXO[i]>0 && OXO[i]>=XOO[i] && OXO[i]>=OOX[i]) vOXO[i]+=yq;else if(XOO[i]>0 && XOO[i]>=OXO[i] && XOO[i]>=OOX[i]) vXOO[i]+=yq;else if(OOX[i]>0 && OOX[i]>=OXO[i] && OOX[i]>=XOO[i]) vOOX[i]+=yq;}return(1);}function a0125(jia){var i, j, k, l, x, y, z, nn, i1, j1;var noFulou=0;var dyok=new Array(MAX_PTNS), dyokf=0;var ev=new Array(0x40);var XOO=new Array(0x40);var OXO=new Array(0x40);var OOX=new Array(0x40);var OOO=new Array(0x40);var noFulou;var drr=new Array(0x40);var fff=0;i=0x40; while(--i>-1) drr[i]=0;if(_t_gamemode==_T_GAMEMODE_REACH || _t_gamemode==_T_GAMEMODE_CHIP_MAHJONG || _t_gamemode==_T_GAMEMODE_EASTERN_BOO){i=_t_dora_disp_ctr; while(--i>-1){drr[_t_dora[i] & 0x3f]=1;}if(_t[jia].menqian_flag) fff=1;}i=_t[jia].fulou_ctr*5; while(--i>-1){if((j=_t[jia].fuloupai[i] & 0x3f)<1 || j>0x37) continue;if(j>0x30 || !((j-1) & 7)) return(0);}if(!t_jd[jia].duanyaojiu){i=MAX_PTNS; while(--i>-1) dyok[i]=0;l=t_ptCtr; while(--l>-1){if(t_pt[l].attr) continue;x=_t[jia].fulou_ctr; y=z=nn=0;i=t_pt[l].shunzi_ctr; while(--i>-1){j=t_pt[l].shunzi[i] & 0x3f;if((j+1) & 5) ++x;}i=t_pt[l].kezi_ctr; while(--i>-1){j=t_pt[l].kezi[i] & 0x3f;if(j>0x30 || !((j-1) & 7)){if(!fff) return(0);continue;}++x;}i=t_pt[l].qianzhang_ctr; while(--i>-1){j=t_pt[l].qianzhang[i] & 0x3f;if((j+1) & 5){ ++y; continue; }}i=t_pt[l].liangmen_ctr; while(--i>-1){j=t_pt[l].liangmen[i] & 0x3f;if((j & 0x0f)>2 && (j & 0x0f)<7){ ++y; continue; }if((j & 0x0f)==2 && vZpt[j+2]>0){ ++y; continue; }if((j & 0x0f)==7 && vZpt[j-1]>0){ ++y; continue; }}i=t_pt[l].duizi_ctr; while(--i>-1){j=t_pt[l].duizi[i] & 0x3f;if(j>0x30 || !((j-1) & 7)){if(t_pt[l].duizi_ctr<2) return(0);if(++nn>1 || drr[j]>0 || ((j==_t_zhuangfeng[0] || j==_t_zhuangfeng[1] || j==_t[jia].menfeng || j>0x34) && vZpt[j]>0)){if(!fff) return(0);}continue;}++z;}if(x+y+z>4 && z>0){dyokf=dyok[l]=1;}}if(dyokf<1) return(0);if(_t[jia].menqian_flag) t_jd[jia].duanyaojiu=1;}_t[jia].neraiyaku++;noFulou=1;if((_t_gamemode==_T_GAMEMODE_REACH || _t_gamemode==_T_GAMEMODE_CHIP_MAHJONG || _t_gamemode==_T_GAMEMODE_EASTERN_BOO)){if(_t_rule.kuitan_sakizuke || _t_shibari>1) ;else if(_t_tsumibo_ctr>3 && _t_zhuangjia!=jia) noFulou=0;else if(_t_genten<_t_mochiten) noFulou=0;else if(_t_zhuangjia==jia) noFulou=0;else if(th_dora>2) noFulou=0;}else noFulou=0;i=0x40; while(--i>-1) ev[i]=XOO[i]=OXO[i]=OOX[i]=OOO[i]=0;i=29; while(--i>0){if((i & 0x0f)>8 || (i & 0x0f)<2) continue;if((i & 0x0f)==8 || (i & 0x0f)==2){vYaku[i]+=0x0100;continue;}vYaku[i]+=0x0180;}l=t_ptCtr; while(--l>-1){if(dyok[l]<1) continue;x=_t[jia].fulou_ctr; z=0;i=t_pt[l].shunzi_ctr; while(--i>-1){j=t_pt[l].shunzi[i] & 0x3f;if((j & 0x0f)==1 && vZpt[j+2]>0){ev[j+1]++; ev[j+2]++; vOOX[j+2]++;}if((j & 0x0f)==7 && vZpt[j-1]>0){ev[j+0]++; ev[j+1]++; vXOO[j-1]++;}}i=t_pt[l].qianzhang_ctr; while(--i>-1){j=t_pt[l].qianzhang[i] & 0x3f;if((j & 0x0f)<2 || (j & 0x0f)>6) continue;OXO[j+1]+=4;}i=t_pt[l].liangmen_ctr; while(--i>-1){j=t_pt[l].liangmen[i] & 0x3f;if((j & 0x0f)>2 && (j & 0x0f)<7){XOO[j-1]++; OOX[j+2]++;continue;}if((j & 0x0f)==2 && vZpt[j+2]>0){ev[j+1]++; OOX[j+2]+=8;continue;}if((j & 0x0f)==7 && vZpt[j-1]>0){ev[j+1]++; XOO[j-1]+=8;continue;}}z=0; i=t_pt[l].duizi_ctr; while(--i>-1){j=t_pt[l].duizi[i] & 0x3f;if(j>0x30 || !((j-1) & 7)) continue;ev[j]+=3; z++;}if(z>1 && x<3){z=0; i=t_pt[l].duizi_ctr; while(--i>-1){j=t_pt[l].duizi[i] & 0x3f;if(j>0x30 || !((j-1) & 7)) continue;OOO[j]++;}}}if(noFulou) return(1);i=0x30; while(--i>0){if(!((i-1) & 7)) continue;if(OOO[i]) vOOO[i]+=0x0100;if((i & 0x0f)<3){if(XOO[i]>0) vXOO[i]+=0x0100;continue;}if((i & 0x0f)<4){if(OXO[i]>0) vOXO[i]+=0x0100;else if(XOO[i]>0) vXOO[i]+=0x0100;continue;}if((i & 0x0f)>7){if(OOX[i]>0) vOOX[i]+=0x0100;continue;}if((i & 0x0f)>6){if(OXO[i]>0) vOXO[i]+=0x0100;else if(OOX[i]>0) vOOX[i]+=0x0100;continue;}if(OXO[i]>0 && OXO[i]>=XOO[i] && OXO[i]>=OOX[i]) vOXO[i]+=0x0100;else if(XOO[i]>0 && XOO[i]>=OXO[i] && XOO[i]>=OOX[i]) vXOO[i]+=0x0100;else if(OOX[i]>0 && OOX[i]>=OXO[i] && OOX[i]>=XOO[i]) vOOX[i]+=0x0100;}i=0x30; while(++i<0x38) vOOO[i]=vOOOO[i]=0;vOOOO[0x01]=vOOOO[0x11]=vOOOO[0x21]=vOOOO[0x09]=vOOOO[0x19]=vOOOO[0x29]=vOOO[0x01]=vOOO[0x11]=vOOO[0x21]=vOOO[0x09]=vOOO[0x19]=vOOO[0x29]=vOXO[0x01]=vOXO[0x11]=vOXO[0x21]=vOXO[0x02]=vOXO[0x12]=vOXO[0x22]=vOXO[0x09]=vOXO[0x19]=vOXO[0x29]=vOXO[0x08]=vOXO[0x18]=vOXO[0x28]=vXOO[0x07]=vXOO[0x17]=vXOO[0x27]=vXOO[0x01]=vXOO[0x11]=vXOO[0x21]=vXOO[0x09]=vXOO[0x19]=vXOO[0x29]=vOOX[0x03]=vOOX[0x13]=vOOX[0x23]=vOOX[0x01]=vOOX[0x11]=vOOX[0x21]=vOOX[0x09]=vOOX[0x19]=vOOX[0x29]=0;return(1);}function a0121(jia){var i, j, k, l, y;var mn=ddp=ldp=qdp=0;var zp=0;if(_t_gamemode==_T_GAMEMODE_TAIWAN) return(0);k=-5; i=_t[jia].fulou_ctr; while(--i>-1){k+=5;j=_t[jia].fuloupai[i] & 0x3f;if(j!=(_t[jia].fuloupai[k+1] & 0x3f)) return(0);if(j>0x30){ zp++; continue; }if((j-1) & 0x07) return(0);}_t_shupai_move(jia);mn=_t[jia].fulou_ctr; ddp=ldp=qdp=0;i=0x01-0x08; while((i+=0x08)<0x30){if(_t_bipai2[i]>2) mn++;else if(_t_bipai2[i]>1 && vZpt[i]>0) ldp++;}if(zp<1 && mn+ldp>4 && mn>1){y=0x0d00; if(_t_gamemode==_T_GAMEMODE_GUOJI) y=0x4000;i=0x01-0x08; while((i+=0x08)<0x30){if(_t_bipai2[i]>3) continue;if(_t_bipai2[i]==3) vYaku[i]+=y;else if(_t_bipai2[i]>1 && vZpt[i]>0) vOOO[i]+=y;}i=_t_nukidora.length; while(--i>-1){if((j=_t_nukidora[i])<1 || j>0x37) continue;if(j>0x30 || ((j-1) & 7)) continue;if(_t_bipai2[j]<4) ai_ndrq[i]=1;}_t[jia].neraiyaku+=y >> 8;return(y >> 8);}i=0x30; while(++i<0x38){if(_t_bipai2[i]>2) mn++;else if(_t_bipai2[i]>1 && vZpt[i]>0) ldp++;}if(mn+ldp>4 && mn>1){y=0x0400; if(_t_gamemode==_T_GAMEMODE_GUOJI) y=0x2000;i=0x30; while(++i<0x38){if(_t_bipai2[i]>3) continue;if(_t_bipai2[i]==3) vYaku[i]+=y;else if(_t_bipai2[i]>1 && vZpt[i]>0) vOOO[i]+=y;}_t[jia].neraiyaku+=y >> 8;return(y >> 8);}return(0);}function a0123(jia){var i, j, k, l, x, y, z, v, w, zf, nn=0, i1, j1;var qtokf=0;var en=new Array(0x40);var em=new Array(0x40);var ew=new Array(0x40);var XOO=new Array(0x40);var OXO=new Array(0x40);var OOX=new Array(0x40);var OOO=new Array(0x40);var XOO2=new Array(0x40);var OXO2=new Array(0x40);var OOX2=new Array(0x40);var OOO2=new Array(0x40);var fff=0;var noFulou=0;if(_t_gamemode==_T_GAMEMODE_BEINUKI || (_t_gamemode==_T_GAMEMODE_BOO && !_t_rule.yaku.quandaiyao)) return(0);i=0x40; while(--i>-1) em[i]=en[i]=XOO[i]=OXO[i]=OOX[i]=OOO[i]=0;i=20; while(--i>-1){j=_t[jia].shupai[i] & 50;if(j>0 && j<0x38) en[j]++;}k=-5; i=_t[jia].fulou_ctr; while(--i>-1){k+=5;j=_t[jia].fuloupai[k] & 0x3f;if(j>0x30){zf++; continue;}if(j==(_t[jia].fuloupai[k+1] & 0x3f)){if((j-1) & 7) return(0);}j=Math.floor(j+(_t[jia].fuloupai[k+1] & 0x3f)+(_t[jia].fuloupai[k+2] & 0x3f) / 3);if(j & 5) return(0);}l=t_ptCtr; while(--l>-1){if(t_pt[l].attr) continue;i=0x40; while(--i>-1) ew[i]=XOO2[i]=OXO2[i]=OOX2[i]=OOO2[i]=0;x=_t[jia].fulou_ctr; y=z=nn=0;i=t_pt[l].shunzi_ctr; while(--i>-1){j=t_pt[l].shunzi[i] & 0x3f;if(!((j+1) & 5)){++x; continue;ew[j]++; ew[j+1]++; ew[j+2]++;}if((j & 0x0f)==2 && vZpt[j-1]>0){y++;ew[j]++; ew[j+1]++; XOO2[j-1]+=8;}if((j & 0x0f)==6 && vZpt[j+3]>0){y++;ew[j+1]++; ew[j+2]++; OOX2[j+3]+=8;}}i=t_pt[l].kezi_ctr; while(--i>-1){j=t_pt[l].kezi[i] & 0x3f;if(j>0x30 || !((j-1) & 7)){if(j>0x30) zf++;x++; ew[j]+=3;}}i=t_pt[l].bianzhang_ctr; while(--i>-1){j=t_pt[l].bianzhang[i] & 0x3f;y++;ew[j]++; ew[j+1]++;if((j & 0x0f)==1) OOX2[j+2]++; else XOO2[j-1]++;}i=t_pt[l].qianzhang_ctr; while(--i>-1){j=t_pt[l].qianzhang[i] & 0x3f;if(!((j-1) & 7)){++y;ew[j]++; ew[j+2]++; OXO2[j+1]++;}}i=t_pt[l].liangmen_ctr; while(--i>-1){j=t_pt[l].liangmen[i] & 0x3f;if((j & 0x0f)==2 && vZpt[j-1]>0){++y;ew[j]++; ew[j+1]++; XOO2[j-1]+=8;continue;}if((j & 0x0f)==6 && vZpt[j+3]>0){ew[j+1]++; ew[j+2]++; OOX2[j+3]+=8;++y; continue;}}i=t_pt[l].duizi_ctr; while(--i>-1){j=t_pt[l].duizi[i] & 0x3f;if(j>0x30 || !((j-1) & 7)){if(j>0x30) zf++;z++; ew[j]+=2; OOO2[j]++;}}w=0; if(x+y+z<5){i=t_pt[l].isolate_ctr; while(--i>-1){j=t_pt[l].isolate[i] & 0x3f;if(j>0x30 || !((j-1) & 7)){ew[j]++; w++; continue;}}}if(x+y+z+w>4 && _t[jia].fulou_ctr+t_pt[l].shunzi_ctr+t_pt[l].kezi_ctr-2<x){qtokf=1;i=0x40; while(--i>0){if(em[i]>ew[i]) em[i]=ew[i];if(en[i]<ew[i]) en[i]=ew[i];XOO[i]+=XOO2[i];OXO[i]+=OXO2[i];OOX[i]+=OOX2[i];OOO[i]+=OOO2[i];}}}if(qtokf<1) return(0);v=w=0x0100; noFulou=0;if(_t_gamemode==_T_GAMEMODE_REACH || _t_gamemode==_T_GAMEMODE_CHIP_MAHJONG || _t_gamemode==_T_GAMEMODE_EASTERN_BOO || _t_gamemode==_T_GAMEMODE_PENGLI){noFulou=1;if(!zf){v=0x0200; noFulou=0;}if(!_t[jia].menqian_flag){ v+=0x0100; w+=0x0100; noFulou=0; }}else if(_t_gamemode==_T_GAMEMODE_GUOJI){v=w=0x0400;}_t[jia].neraiyaku+=v >> 8;i=0x38; while(--i>0x30){if(em[i]<1) continue;if(OOO[i]>0){if(!noFulou) vOOO[i]+=OOO[i] << 2;_t[jia].required[i]+=OOO[i] << 2;}vYaku[i]+=w;if(em[i]>en[i]) continue;vYaku[i]+=0x0080;}i=0x30; while(--i>0){if(em[i]<1) continue;if(OOO[i]>0){if(!noFulou) vOOO[i]+=v;_t[jia].required[i]+=v;}if(XOO[i]>0){if(!noFulou) vXOO[i]+=v;_t[jia].required[i]+=v;}if(OXO[i]>0){if(!noFulou) vOXO[i]+=v;_t[jia].required[i]+=v;}if(OOX[i]>0){if(!noFulou) vOOX[i]+=v;_t[jia].required[i]+=v;}vYaku[i]+=v;if(em[i]>en[i]) continue;vYaku[i]+=0x0080;}return(1);}function a0120(jia){var i, j, k, l, l2, m, m2, y;l=l2=m=m2=n=n2=0; i=_t[jia].fulou_ctr; k=-5; while(--i>-1){k+=5;if((j=_t[jia].fuloupai[k] & 0x3f)>0x34){ m2+=0x1000; m++; continue; }if(j>0x30){l2+=0x1000; l++;}}_t_shupai_move(jia);i=0x34; while(++i<0x38){if(_t_bipai2[i]>2){ m2+=0x1000; m++; continue; }if(_t_bipai2[i]>1){m++;if(vZpt[i]>0) m2+=0x0100;else m2+=0x0010;continue;}if(_t_bipai2[i]>0 && vZpt[i]>0){ m++; m2++; }}i=0x30; while(++i<0x35){if(_t_bipai2[i]>2){ l2+=0x1000; l++; continue; }if(_t_bipai2[i]>1){l++;if(vZpt[i]>0) l2+=0x0100;else l2+=0x0010;continue;}if(_t_bipai2[i]>0 && vZpt[i]>0){ l++; l2++; }}if((m>0x20ff && _t[jia].fulou_ctr<3) &&    (m>0x11ff && _t[jia].fulou_ctr<2) &&    (m>0x02ff && _t[jia].fulou_ctr<1)){y=0x0d00; if(_t_gamemode==_T_GAMEMODE_GUOJI) y=0x5800;i=0x34; while(++i<0x38){if(_t_bipai2[i]==2) vOOO[i]+=y;if(_t_bipai2[i]<4 && _t_bipai2[i]+vZpt[i]>1) vYaku[i]+=y;}_t[jia].neraiyaku+=y >> 8;return(y >> 8);}if((l>0x2100 && _t[jia].fulou_ctr<3) &&    (l>0x1200 && _t[jia].fulou_ctr<2) &&    (l>0x0300 && _t[jia].fulou_ctr<1)){y=0x0d00; if(_t_gamemode==_T_GAMEMODE_GUOJI) y=0x5800;i=0x30; while(++i<0x35){if(_t_bipai2[i]==2) vOOO[i]+=y;if(_t_bipai2[i]<4) vYaku[i]+=y;}i=_t_nukidora.length; while(--i>-1){if((j=_t_nukidora[i])<1 || j>0x37) continue;if(j<0x30 || j>0x34) continue;if(_t_bipai2[j]<4 && _t_bipai2[i]+vZpt[i]>1) ai_ndrq[i]=1;}_t[jia].neraiyaku+=y >> 8;return(y >> 8);}i=l+m;if((i>0x3100 && _t[jia].fulou_ctr<4) &&    (i>0x2100 && _t[jia].fulou_ctr<3) &&    (i>0x1200 && _t[jia].fulou_ctr<2) &&    (i>0x0300 && _t[jia].fulou_ctr<1)){y=0x0d00; if(_t_gamemode==_T_GAMEMODE_GUOJI) y=0x4000;i=0x30; while(++i<0x38){if(_t_bipai2[i]==2) vOOO[i]+=y;if(_t_bipai2[i]<4 && _t_bipai2[i]+vZpt[i]>1) vYaku[i]+=y;}_t[jia].neraiyaku+=y >> 8;return(y >> 8);}if((m>0x1200 && _t[jia].fulou_ctr<2) &&    (m>0x0300 && _t[jia].fulou_ctr<1)){y=0x0400; if(_t_gamemode==_T_GAMEMODE_GUOJI) y=0x4000;i=0x34; while(++i<0x38){if(_t_bipai2[i]==2) vOOO[i]+=y;if(_t_bipai2[i]<4 && _t_bipai2[i]+vZpt[i]>1) vYaku[i]+=y;}_t[jia].neraiyaku+=y >> 8;return(y >> 8);}if((l>0x20ff && _t[jia].fulou_ctr<3) &&    (l>0x11ff && _t[jia].fulou_ctr<2) &&    (l>0x02ff && _t[jia].fulou_ctr<1)){if(_t_gamemode==_T_GAMEMODE_GUOJI || _t_rule.yaku.sanfengzi){y=0x0200;if(_t_gamemode==_T_GAMEMODE_GUOJI) y=0x0c00;i=0x30; while(++i<0x35){if(_t_bipai2[i]==2) vOOO[i]+=y;if(_t_bipai2[i]<4 && _t_bipai2[i]+vZpt[i]>1) vYaku[i]+=y;}_t[jia].neraiyaku+=y >> 8;return(y >> 8);}}if(_t_gamemode!=_T_GAMEMODE_GUOJI) return(0);if((m>0x01ff && _t[jia].fulou_ctr<2) &&    (m>0x10ff && _t[jia].fulou_ctr<1)){y=0x0600;i=0x34; while(++i<0x38){if(_t_bipai2[i]==2) vOOO[i]+=y;if(_t_bipai2[i]<4 && _t_bipai2[i]+vZpt[i]>1) vYaku[i]+=y;}_t[jia].neraiyaku+=y >> 8;return(y >> 8);}return(0);}v0126_1=0;function a0126(jia){var i, j, k, l, m, n, n2;var noFulou=1;v0126_1=0;_t_shupai_move(jia);if(_t_gamemode==_T_GAMEMODE_GUOJI){k=-5; l=m=n=n2=0; i=_t[jia].fulou_ctr; while(--i>-1){k+=5;if((j=_t[jia].fuloupai[k] & 0x3f)!=(_t[jia].fuloupai[k+1] & 0x3f)) continue;if(_t[jia].fuloupai[k+3]>0) n++;if(_t[jia].fuloupai[k+4]>0) n2++;if(j>0x34){ m++; continue; }if(j==_t_zhuangfeng[0]){l+=2;if(j==_t[jia].menfeng) l+=2;}else if(j==_t[jia].menfeng) l+=2;else if(j>0x30 || !((j-1) & 7)) l++;}if(m==2) l+=6; else if(m==1) l+=2;if(n2>1) l+=8; else if(n2) l+=2;if(n+n2>1) l+=4; else if(n==1) l++;k=4-_t[jia].fulou_ctr; j=l;if((i=_t[jia].menfeng)==_t_zhuangfeng[0]){if(_t_bipai2[i]>2 || (_t_bipai2[i]==2 && k>0 && vZpt[i]>0)){j+=4; k--;}}else {if(_t_bipai2[i]>2 || (_t_bipai2[i]==2 && k>0 && vZpt[i]>0)){j+=2; k--;}i=_t_zhuangfeng[0];if(_t_bipai2[i]>2 || (_t_bipai2[i]==2 && k>0 && vZpt[i]>0)){j+=2; k--;}}i=0x34; while(++i<0x38){if(_t_bipai2[i]>2 || (_t_bipai2[i]==2 && k>0 && vZpt[i]>0)){j+=2; k--;}}if(j<6) return(0);k=0; if((i=_t[jia].menfeng)==_t_zhuangfeng[0]){if(_t_bipai2[i]==2 && vZpt[i]>0) vOOO[i]+=0x0400;if(_t_bipai2[i]<4 && _t_bipai2[i]+vZpt[i]>2){ vYaku[i]+=0x0400; k+=4; }}else {if(_t_bipai2[i]>2 || (_t_bipai2[i]==2 && vZpt[i]>0)){if(_t_bipai2[i]==2 && vZpt[i]>0) vOOO[i]+=0x0200;if(_t_bipai2[i]<4 && _t_bipai2[i]+vZpt[i]>2){ vYaku[i]+=0x0200; k+=2; }}i=_t_zhuangfeng[0];if(_t_bipai2[i]==2 && vZpt[i]>0) vOOO[i]+=0x0200;if(_t_bipai2[i]<4 && _t_bipai2[i]+vZpt[i]>2){ vYaku[i]+=0x0200; k+=2; }}i=0x34; while(++i<0x38){if(_t_bipai2[i]==2 && vZpt[i]>0) vOOO[i]+=0x0200;if(_t_bipai2[i]<4 && _t_bipai2[i]+vZpt[i]>2){ vYaku[i]+=0x0200; k+=2; }}if((i=4-_t[jia].fulou_ctr)>0 && k>5-i){i=0x30; while(++i<0x35){if(i==_t_zhuangfeng[0] || i==_t_zhuangfeng[1] || i==_t[jia].menfeng) continue;if(_t_bipai2[i]==2 && vZpt[i]>0) vOOO[i]+=0x0100;if(_t_bipai2[i]<4 && _t_bipai2[i]+vZpt[i]>2){ vYaku[i]+=0x0100; k++; }}i=0x01-0x08; while((i+=0x08)<0x30){if(_t_bipai2[i]==2 && vZpt[i]>0) vOOO[i]+=0x0100;if(_t_bipai2[i]<4 && _t_bipai2[i]+vZpt[i]>2){ vYaku[i]+=0x0100; k++; }}}return(k);}k=4-_t[jia].fulou_ctr; l=0;if((i=_t[jia].menfeng)==_t_zhuangfeng[0]){if(_t_bipai2[i]>2 || (_t_bipai2[i]==2 && k>0 && vZpt[i]>0)){l+=2; k--;}if((i=_t_zhuangfeng[1])>0){if(_t_bipai2[i]>2 || (_t_bipai2[i]==2 && k>0 && vZpt[i]>0)){l++; k--;}}}else if(i==_t_zhuangfeng[1]){if(_t_bipai2[i]>2 || (_t_bipai2[i]==2 && k>0 && vZpt[i]>0)){l+=2; k--;}if((i=_t_zhuangfeng[0])>0){if(_t_bipai2[i]>2 || (_t_bipai2[i]==2 && k>0 && vZpt[i]>0)){l++; k--;}}}else {if(_t_bipai2[i]>2 || (_t_bipai2[i]==2 && k>0 && vZpt[i]>0)){l++; k--;}if((i=_t_zhuangfeng[0])>0){if(_t_bipai2[i]>2 || (_t_bipai2[i]==2 && k>0 && vZpt[i]>0)){l++; k--;}}if((i=_t_zhuangfeng[1])>0){if(_t_bipai2[i]>2 || (_t_bipai2[i]==2 && k>0 && vZpt[i]>0)){l++; k--;}}}i=0x34; while(++i<0x38){if(_t_bipai2[i]>2 || (_t_bipai2[i]==2 && k>0 && vZpt[i]>0)){l++; k--;}}k=-5; i=_t[jia].fulou_ctr; while(--i>-1){k+=5;if((j=_t[jia].fuloupai[k] & 0x3f)!=(_t[jia].fuloupai[k+1] & 0x3f)) continue;if(j>0x34){ l++; continue; }if(j==_t_zhuangfeng[0] || j==_t_zhuangfeng[1]) l++;if(j==_t[jia].menfeng) l++;}noFulou=1;if(_t_gamemode==_T_GAMEMODE_REACH || _t_gamemode==_T_GAMEMODE_CHIP_MAHJONG || _t_gamemode==_T_GAMEMODE_EASTERN_BOO){if(l>=_t_shibari){noFulou=0;if(_t[jia].menqian_flag) v0126_1=1;_t[jia].rm_2naki=1;if(_t_tsumibo_ctr>3 && _t_zhuangjia!=jia) _t[jia].rm_2naki=0;else if(_t_genten<_t_mochiten) _t[jia].rm_2naki=0;else if(_t_zhuangjia==jia) _t[jia].rm_2naki=0;else if(_t[jia].neraiyaku+th_dora+l>2) _t[jia].rm_2naki=0;}}else noFulou=0;if(l<1) return(0);if(l>=_t_shibari) noFulou=0;k=l=0; if(_t[jia].mopai_ctr>4) k++;if((i=_t[jia].menfeng)>0 && _t[jia].fusipai[i]<1){if(_t_bipai2[i]==2 && vZpt[i]>0){vYaku[i]+=0x0100;if(!noFulou) vOOO[i]+=0x0100;l++;}else if(_t_bipai2[i]<4 && _t_bipai2[i]>k && _t_bipai2[i]+vZpt[i]>2){vYaku[i]+=0x0100; l++;}}if((i=_t_zhuangfeng[0])>0 && _t[jia].fusipai[i]<1){if(_t_bipai2[i]==2 && vZpt[i]>0){vYaku[i]+=0x0100;if(!noFulou) vOOO[i]+=0x0100;l++;}else if(_t_bipai2[i]<4 && _t_bipai2[i]>k && _t_bipai2[i]+vZpt[i]>2){vYaku[i]+=0x0100; l++;}}if((i=_t_zhuangfeng[1])>0 && _t[jia].fusipai[i]<1){if(_t_bipai2[i]==2 && vZpt[i]>0){vYaku[i]+=0x0100;if(!noFulou) vOOO[i]+=0x0100;l++;}else if(_t_bipai2[i]<4 && _t_bipai2[i]>k && _t_bipai2[i]+vZpt[i]>2){vYaku[i]+=0x0100; l++;}}i=0x34; while(++i<0x38){if(_t[jia].fusipai[i]>0) continue;if(_t_bipai2[i]==2 && vZpt[i]>0){vYaku[i]+=0x0100;if(!noFulou) vOOO[i]+=0x0100;l++;continue;}if(_t_bipai2[i]<4 && _t_bipai2[i]>k && _t_bipai2[i]+vZpt[i]>2){vYaku[i]+=0x0100; l++;}}_t[jia].neraiyaku+=l;return(l);}function a0080(jia, num, suit, xtv){var shunzi=new Array(0x40), fsc;var pb=new Array(0x40), p=new Array(0x40);var XOO=new Array(0x40), OXO=new Array(0x40), OOX=new Array(0x40), vv=new Array(0x40), wt=new Array(0x40);var i, j, k, il, j1, k1, y, jj;var vMax=0;var vLim=0x0030;var ptn0=new Array(), ptn1=new Array(), ptn2=new Array(), tf=new Array(), ptc=0;var p1, p2, p3;var mzc, mzc2, mzcb;var ys1, ys2, ys3, ys4, ys5, ys6, ys7;var rqq=new Array(0x40);if(xtv<2) vLim=0x0210;i=0x40; while(--i>=-1) pb[i]=shunzi[i]=rqq[i]=0;fsc=0; k=-5; i=_t[jia].fulou_ctr; while(--i>-1){k+=5;j=_t[jia].fuloupai[k] & 0x3f;if(j==(_t[jia].fuloupai[k+1] & 0x3f)) continue;fsc++;shunzi[Math.floor((j+(_t[jia].fuloupai[k+1] & 0x3f)+(_t[jia].fuloupai[k+2] & 0x3f)) / 3)]++;}if(_t[jia].fulou_ctr-fsc>1) return(0);i=20; while(--i>=0){if((j=(_t[jia].shupai[i] & 0x3f))>0 && j<0x30) pb[j]++;}mzcb=4-_t[jia].fulou_ctr;if(num<1){i=-0x10; il=0x30;if(suit>-1){i=suit-0x10; il=suit+0x10;}while((i+=0x10)<il){mzc=mzcb; j=0; k=0;if(shunzi[i+2]>0) j+=0x0100;else {if(--mzc<0) continue;if(pb[i+1]+vZpt[i+1]<1 || pb[i+2]+vZpt[i+2]<1 || pb[i+3]+vZpt[i+3]<1) continue;jj=0;if(pb[i+1]>0) jj++;if(pb[i+2]>0) jj++;if(pb[i+3]>0) jj++;if(jj>2) j+=0x0100;else if(jj>1) j+=0x0010;else if(jj>0) j+=0x0001;}if(shunzi[i+5]>0) j+=0x0100;else {if(--mzc<0) continue;if(pb[i+4]+vZpt[i+4]<1 || pb[i+5]+vZpt[i+5]<1 || pb[i+6]+vZpt[i+6]<1) continue;jj=0;if(pb[i+4]>0) jj++;if(pb[i+5]>0) jj++;if(pb[i+6]>0) jj++;if(jj>2) j+=0x0100;else if(jj>1) j+=0x0010;else if(jj>0) j+=0x0001;}if(shunzi[i+8]>0) j+=0x0100;else {if(--mzc<0) continue;if(pb[i+7]+vZpt[i+7]<1 || pb[i+8]+vZpt[i+8]<1 || pb[i+9]+vZpt[i+9]<1) continue;jj=0;if(pb[i+7]>0) jj++;if(pb[i+8]>0) jj++;if(pb[i+9]>0) jj++;if(jj>2) j+=0x0100;else if(jj>1) j+=0x0010;else if(jj>0) j+=0x0001;}if(vLim>j || vMax>j) continue;if(vMax<j){ vMax=j; ptc=0; }ptn0[ptc]=i+1;ptn1[ptc]=i+4;ptn2[ptc]=i+7;}}i=suit;if((_t_gamemode==_T_GAMEMODE_BOO || _t_gamemode==_T_GAMEMODE_ARSHIAR) && !_t_rule.yaku.sanshoku) i=200;if(_t_players==3 && _t_gamemode!=_T_GAMEMODE_PENGLI) i=200;if(i<0){i=0; il=8;if(num>1){ i=num-1; il=num+1; }while(++i<il){mzc=mzcb; j=0; k=0;if(shunzi[i+ 1]>0) j+=0x0100;else {if(--mzc<0) j=-32768;else if(pb[i   ]+vZpt[i   ]<1 || pb[i+ 1]+vZpt[i+ 1]<1 || pb[i+ 2]+vZpt[i+ 2]<1) j=-32768;else {jj=0;if(pb[i   ]>0) jj++;if(pb[i+ 1]>0) jj++;if(pb[i+ 2]>0) jj++;if(jj>2) j+=0x0100;else if(jj>1) j+=0x0010;else if(jj>0) j+=0x0001;}}if(shunzi[i+11]>0) j+=0x0100;else {if(--mzc<0) j=-32768;else if(pb[i+0x10]+vZpt[i+0x10]<1 || pb[i+11]+vZpt[i+11]<1 || pb[i+12]+vZpt[i+12]<1) j=-32768;else {jj=0;if(pb[i+0x10]>0) jj++;if(pb[i+11]>0) jj++;if(pb[i+12]>0) jj++;if(jj>2) j+=0x0100;else if(jj>1) j+=0x0010;else if(jj>0) j+=0x0001;}}if(shunzi[i+21]>0) j+=0x0100;else {if(--mzc<0) j=-32768;else if(pb[i+0x20]+vZpt[i+0x20]<1 || pb[i+21]+vZpt[i+21]<1 || pb[i+22]+vZpt[i+22]<1) j=-32768;else {jj=0;if(pb[i+0x20]>0) jj++;if(pb[i+21]>0) jj++;if(pb[i+22]>0) jj++;if(jj>2) j+=0x0100;else if(jj>1) j+=0x0010;else if(jj>0) j+=0x0001;}}if(vLim<=j && vMax<=j){if(vMax<j){ vMax=j; ptc=0; }ptn0[ptc]=i;ptn1[ptc]=i+0x10;ptn2[ptc]=i+0x20;}}}if(ptc<1) return(0);i=0x40; while(--i>0) XOO[i]=OXO[i]=OOX[i]=vv[i]=wt[i]=0;var rrr=1;if(vMax>0x35) rrr=0;k=0; i=ptc; while(--i>-1){k+=yh[i]; j=0x40; while(--j>=0) p[j]=pb[j];j=ptn0[i];if(shunzi[j+1]<1){p1=p2=p3=0;if((i1=p[j  ])>0) p1++; else i1=1;if((j1=p[j+1])>0) p2++; else j1=1;if((k1=p[j+2])>0) p3++; else k1=1;if(p1 && p2 && !p3){OOX[j+2]++;if((j & 0x0f)==1 || (j & 0x0f)==4 || (j & 0x0f)==7) OOX[j+2]++;}if(p1 && !p2 && p3){OXO[j+1]++;if((j & 0x0f)==1 || (j & 0x0f)==4 || (j & 0x0f)==7) OXO[j+1]++;}if(!p1 && p2 && p3){XOO[j  ]++;if((j & 0x0f)==1 || (j & 0x0f)==4 || (j & 0x0f)==7) XOO[j  ]++;}i1=Math.min(i1, Math.min(j1, k1))+1;if(p[j  ]<i1){vv[j  ]++;if(p[j  ]<1) rqq[i  ]++;}if(p[j+1]<i1){vv[j+1]++;if(p[j+1]<1) rqq[i+1]++;}if(p[j+2]<i1){vv[j+2]++;if(p[j+2]<1) rqq[i+2]++;}}j=ptn1[i];if(shunzi[j+1]<1){p1=p2=p3=0;if((i1=p[j  ])>0) p1++; else i1=1;if((j1=p[j+1])>0) p2++; else j1=1;if((k1=p[j+2])>0) p3++; else k1=1;if(p1 && p2 && !p3){OOX[j+2]++;if((j & 0x0f)==1 || (j & 0x0f)==4 || (j & 0x0f)==7) OOX[j+2]++;}if(p1 && !p2 && p3){OXO[j+1]++;if((j & 0x0f)==1 || (j & 0x0f)==4 || (j & 0x0f)==7) OXO[j+1]++;}if(!p1 && p2 && p3){XOO[j  ]++;if((j & 0x0f)==1 || (j & 0x0f)==4 || (j & 0x0f)==7) XOO[j  ]++;}i1=Math.min(i1, Math.min(j1, k1))+1;if(p[j  ]<i1){vv[j  ]++;if(p[j  ]<1) rqq[i  ]++;}if(p[j+1]<i1){vv[j+1]++;if(p[j+1]<1) rqq[i+1]++;}if(p[j+2]<i1){vv[j+2]++;if(p[j+2]<1) rqq[i+2]++;}}j=ptn2[i];if(shunzi[j+1]<1){p1=p2=p3=0;if((i1=p[j  ])>0) p1++; else i1=1;if((j1=p[j+1])>0) p2++; else j1=1;if((k1=p[j+2])>0) p3++; else k1=1;if(p1 && p2 && !p3){OOX[j+2]++;if((j & 0x0f)==1 || (j & 0x0f)==4 || (j & 0x0f)==7) OOX[j+2]++;}if(p1 && !p2 && p3){OXO[j+1]++;if((j & 0x0f)==1 || (j & 0x0f)==4 || (j & 0x0f)==7) OXO[j+1]++;}if(!p1 && p2 && p3){XOO[j  ]++;if((j & 0x0f)==1 || (j & 0x0f)==4 || (j & 0x0f)==7) XOO[j  ]++;}i1=Math.min(i1, Math.min(j1, k1))+1;if(p[j  ]<i1){vv[j  ]++;if(p[j  ]<1) rqq[i  ]++;}if(p[j+1]<i1){vv[j+1]++;if(p[j+1]<1) rqq[i+1]++;}if(p[j+2]<i1){vv[j+2]++;if(p[j+2]<1) rqq[i+2]++;}}}y=0x0200; if(_t_gamemode==_T_GAMEMODE_ARSHIAR || _t_gamemode==_T_GAMEMODE_BOO || _t[jia].menqian_flag) y=0x0100;if(_t_gamemode!=_T_GAMEMODE_REACH && _t_gamemode!=_T_GAMEMODE_CHIP_MAHJONG){i=0x30; while(--i>0){vYaku[i]+=Math.floor(y * vv[i] / ptc);_t[jia].required[i]+=Math.floor(y * rqq[i] / ptc);vXOO[i]+=Math.floor(y * XOO[i] / ptc);vOXO[i]+=Math.floor(y * OXO[i] / ptc);vOOX[i]+=Math.floor(y * OOX[i] / ptc);}}else {i=0x30; while(--i>0){vYaku[i]+=Math.floor(y * vv[i] / ptc);_t[jia].required[i]+=Math.floor(y * rqq[i] / ptc);}}k=Math.floor(k / ptc);_t[jia].neraiyaku+=y >> 8;return(k);}function a0124(jia, num, suit){var shunzi=new Array(0x40), fsc;var pb=new Array(0x40), p=new Array(0x40);var XOO=new Array(0x40), OXO=new Array(0x40), OOX=new Array(0x40), vv=new Array(0x40), wt=new Array(0x40);var i, j, k, il, j1, k1, y, jj;var vMax=0;var vLim=0x0036;var ptn0=new Array(), ptn1=new Array(), ptn2=new Array(), yh=new Array(), tf=new Array(), ptc=0, cds=new Array();var p1, p2, p3;var mzc, mzc2, mzcb;var ys1, ys2, ys3, ys4, ys5, ys6, ys7;var cdss, cd=new Array(9);var rqq=new Array(0x40);if(_t_zampai_ctr / _t_players<8) vLim=0x0037;if(_t[jia].mopai_ctr<6) vLim=0x0035;i=0x40; while(--i>=-1) pb[i]=shunzi[i]=rqq[i]=0;fsc=0; k=-5; i=_t[jia].fulou_ctr; while(--i>-1){k+=5;j=_t[jia].fuloupai[k] & 0x3f;if(j==_t[jia].fuloupai[k+1] & 0x3f) continue;fsc++;shunzi[Math.floor((j+(_t[jia].fuloupai[k+1] & 0x3f)+(_t[jia].fuloupai[k+2] & 0x3f)) / 3)]++;}if(_t[jia].fulou_ctr-fsc>1) return(0);i=20; while(--i>=0){if((j=_t[jia].shupai[i] & 0x3f)>0 && j<0x30) pb[j]++;}mzcb=4-_t[jia].fulou_ctr;if(num<1){i=0; il=24;if(suit>-1){i=suit; il=suit+4;}while(++i<il){if((i & 0x0f)>3) continue;mzc=mzcb; j=0; k=0;ys1=ys2=ys4=ys5=ys7=1;ys3=ys6=2;if(shunzi[i+1]>0){ys1--; ys2--; ys3--;}if(shunzi[i+3]>0){ys3--; ys4--; ys5--;}if(shunzi[i+5]>0){ys5--; ys6--; ys7--;}if(pb[i  ]+vZpt[i  ]<ys1 ||    pb[i+1]+vZpt[i+1]<ys2 ||    pb[i+2]+vZpt[i+2]<ys3 ||    pb[i+3]+vZpt[i+3]<ys4 ||    pb[i+4]+vZpt[i+4]<ys5 ||    pb[i+5]+vZpt[i+5]<ys6 ||    pb[i+6]+vZpt[i+6]<ys7) continue;cdss='0 0 0 ';if(shunzi[i+1]>0) j+=0x13;else {if(--mzc<0) continue;jj=0;if(pb[i]>0) jj++;if(pb[i+1]>0) jj++;if(pb[i+2]>0) jj++;if(jj>0) j+=0x10+jj;}if(shunzi[i+3]>0) j+=0x13;else {if(--mzc<0) continue;jj=0;if(shunzi[i+1]>0){if(pb[i+2]>0) jj++;cdss+='0 0 0 ';}else {if(pb[i+2]>1) jj++;cdss+='1 0 0 ';}if(pb[i+3]>0) jj++;if(pb[i+4]>0) jj++;if(jj>0) j+=0x10+jj;}if(shunzi[i+5]>0) j+=0x13;else {if(--mzc<0) continue;jj=0;if(shunzi[i+3]>0){if(pb[i+4]>0) jj++;cdss+='0 0 0 ';}else {if(pb[i+4]>1) jj++;cdss+='1 0 0 ';}if(pb[i+5]>0) jj++;if(pb[i+6]>0) jj++;if(jj>0) j+=0x10+jj;}if(vLim>j || vMax>j) continue;if(vMax<j){ vMax=j; ptc=0; }ptn0[ptc]=i;ptn1[ptc]=i+2;ptn2[ptc]=i+4;yh[ptc]=16;cds[ptc++]=cdss;}i=0; il=26;if(suit>-1){i=suit; il=suit+6;}while(++i<il){if((i & 0x0f)>5) continue;mzc=mzcb; j=0; k=0;ys1=ys2=1;ys2=ys4=2;ys3=3;if(shunzi[i+1]>0){ys1--; ys2--; ys3--;}if(shunzi[i+2]>0){ys2--; ys3--; ys4--;}if(shunzi[i+3]>0){ys3--; ys4--; ys5--;}if(pb[i  ]+vZpt[i  ]<ys1 ||    pb[i+1]+vZpt[i+1]<ys2 ||    pb[i+2]+vZpt[i+2]<ys3 ||    pb[i+3]+vZpt[i+3]<ys4 ||    pb[i+4]+vZpt[i+4]<ys5) continue;cdss='0 0 0 ';if(shunzi[i+1]>0) j+=0x13;else {if(--mzc<0) continue;jj=0;if(pb[i]>0) jj++;if(pb[i+1]>0) jj++;if(pb[i+2]>0) jj++;if(jj>0) j+=0x10+jj;}if(shunzi[i+2]>0) j+=0x13;else {if(--mzc<0) continue;jj=0;if(shunzi[i+1]>0){if(pb[i+1]>0) jj++;if(pb[i+2]>0) jj++;cdss+='0 0 0 ';}else {if(pb[i+1]>1) jj++;if(pb[i+2]>1) jj++;cdss+='1 1 0 ';}if(pb[i+3]>0) jj++;if(jj>0) j+=0x10+jj;}if(shunzi[i+3]>0) j+=0x13;else {if(--mzc<0) continue;jj=0;if(shunzi[i+1]>0 && shunzi[i+2]>0){if(pb[i+2]>0) jj++;cdss+='0 ';}else if(shunzi[i+1]>0 || shunzi[i+2]>0){if(pb[i+2]>1) jj++;cdss+='1 ';}else {if(pb[i+2]>2) jj++;cdss+='2 ';}if(shunzi[i+2]>0){if(pb[i+3]>0) jj++;cdss+='0 ';}else {if(pb[i+3]>1) jj++;cdss+='1 ';}if(pb[i+4]>0) jj++;cdss+='0 ';if(jj>0) j+=0x10+jj;}if(vLim>j || vMax>j) continue;if(vMax<j){ vMax=j; ptc=0; }ptn0[ptc]=i;ptn1[ptc]=i+1;ptn2[ptc]=i+2;yh[ptc]=16;cds[ptc++]=cdss;}i=-0x10; il=0x30;if(suit>-1){i=suit-0x10; il=suit+0x10;}while((i+=0x10)<il){mzc=mzcb; j=0; k=0;if(shunzi[i+2]>0) j+=0x13;else {if(--mzc<0) continue;if(pb[i+1]+vZpt[i+1]<1 || pb[i+2]+vZpt[i+2]<1 || pb[i+3]+vZpt[i+3]<1) continue;jj=0;if(pb[i+1]>0) jj++;if(pb[i+2]>0) jj++;if(pb[i+3]>0) jj++;if(jj>0) j+=0x10+jj;}if(shunzi[i+5]>0) j+=0x13;else {if(--mzc<0) continue;if(pb[i+4]+vZpt[i+4]<1 || pb[i+5]+vZpt[i+5]<1 || pb[i+6]+vZpt[i+6]<1) continue;jj=0;if(pb[i+4]>0) jj++;if(pb[i+5]>0) jj++;if(pb[i+6]>0) jj++;if(jj>0) j+=0x10+jj;}if(shunzi[i+8]>0) j+=0x13;else {if(--mzc<0) continue;if(pb[i+7]+vZpt[i+7]<1 || pb[i+8]+vZpt[i+8]<1 || pb[i+9]+vZpt[i+9]<1) continue;jj=0;if(pb[i+7]>0) jj++;if(pb[i+8]>0) jj++;if(pb[i+9]>0) jj++;if(jj>0) j+=0x10+jj;}if(vLim>j || vMax>j) continue;if(vMax<j){ vMax=j; ptc=0; }ptn0[ptc]=i+1;ptn1[ptc]=i+4;ptn2[ptc]=i+7;yh[ptc]=16;cds[ptc++]='0 0 0 0 0 0 0 0 0 ';}}if(num<1 && suit<0){y=8;mzc=mzcb; j=0; k=0;if(shunzi[0x02]>0) j+=0x13;else {if(--mzc<0) j=-32768;else if(pb[0x01]+vZpt[0x01]<1 || pb[0x02]+vZpt[0x02]<1 || pb[0x03]+vZpt[0x03]<1) j=-32768;else {jj=0;if(pb[0x01]>0) jj++;if(pb[0x02]>0) jj++;if(pb[0x03]>0) jj++;if(jj>0) j+=0x10+jj;}}mzc2=mzc; j1=j; k1=k;if(shunzi[0x15]>0) j+=0x13;else {if(--mzc<0) j=-32768;else if(pb[0x14]+vZpt[0x14]<1 || pb[0x15]+vZpt[0x15]<1 || pb[0x16]+vZpt[0x16]<1) j=-32768;else {jj=0;if(pb[0x14]>0) jj++;if(pb[0x15]>0) jj++;if(pb[0x16]>0) jj++;if(jj>0) j+=0x10+jj;}}if(shunzi[0x28]>0) j+=0x13;else {if(--mzc<0) j=-32768;else if(pb[0x27]+vZpt[0x27]<1 || pb[0x28]+vZpt[0x28]<1 || pb[0x29]+vZpt[0x29]<1) j=-32768;else {jj=0;if(pb[0x27]>0) jj++;if(pb[0x28]>0) jj++;if(pb[0x29]>0) jj++;if(jj>0) j+=0x10+jj;}}if(vLim<=j && vMax<=j){if(vMax<j){ vMax=j; ptc=0; }ptn0[ptc]=0x01;ptn1[ptc]=0x14;ptn2[ptc]=0x27;yh[ptc]=y;cds[ptc++]='0 0 0 0 0 0 0 0 0 ';}mzc=mzc2; j=j1; k=k1;if(shunzi[0x25]>0) j+=0x13;else {if(--mzc<0) j=-32768;else if(pb[0x24]+vZpt[0x24]<1 || pb[0x25]+vZpt[0x25]<1 || pb[0x26]+vZpt[0x26]<1) j=-32768;else {jj=0;if(pb[0x24]>0) jj++;if(pb[0x25]>0) jj++;if(pb[0x26]>0) jj++;if(jj>0) j+=0x10+jj;}}if(shunzi[0x18]>0) j+=0x13;else {if(--mzc<0) j=-32768;else if(pb[0x17]+vZpt[0x17]<1 || pb[0x18]+vZpt[0x18]<1 || pb[0x19]+vZpt[0x19]<1) j=-32768;else {jj=0;if(pb[0x17]>0) j++;if(pb[0x18]>0) j++;if(pb[0x19]>0) j++;if(jj>0) j+=0x10+jj;}}if(vLim<=j && vMax<=j){if(vMax<j){ vMax=j; ptc=0; }ptn0[ptc]=0x01;ptn1[ptc]=0x17;ptn2[ptc]=0x24;yh[ptc]=y;cds[ptc++]='0 0 0 0 0 0 0 0 0 ';}mzc=mzcb; j=0; k=0;if(shunzi[0x05]>0) j+=0x13;else {if(--mzc<0) j=-32768;else if(pb[0x04]+vZpt[0x04]<1 || pb[0x05]+vZpt[0x05]<1 || pb[0x06]+vZpt[0x06]<1) j=-32768;else {jj=0;if(pb[0x04]>0) jj++;if(pb[0x05]>0) jj++;if(pb[0x06]>0) jj++;if(jj>0) j+=0x10+jj;}}mzc2=mzc; j1=j; k1=k;if(shunzi[0x12]>0) j+=0x13;else {if(--mzc<0) j=-32768;else if(pb[0x11]+vZpt[0x11]<1 || pb[0x12]+vZpt[0x12]<1 || pb[0x13]+vZpt[0x13]<1) j=-32768;else {jj=0;if(pb[0x11]>0) jj++;if(pb[0x12]>0) jj++;if(pb[0x13]>0) jj++;if(jj>0) j+=0x10+jj;}}if(shunzi[0x28]>0) j+=0x13;else {if(--mzc<0) j=-32768;else if(pb[0x27]+vZpt[0x27]<1 || pb[0x28]+vZpt[0x28]<1 || pb[0x29]+vZpt[0x29]<1) j=-32768;else {jj=0;if(pb[0x27]>0) jj++;if(pb[0x28]>0) jj++;if(pb[0x29]>0) jj++;if(jj>0) j+=0x10+jj;}}if(vLim<=j && vMax<=j){if(vMax<j){ vMax=j; ptc=0; }ptn0[ptc]=0x04;ptn1[ptc]=0x11;ptn2[ptc]=0x27;yh[ptc]=y;cds[ptc++]='0 0 0 0 0 0 0 0 0 ';}mzc=mzc2; j=j1; k=k1;if(shunzi[0x22]>0) j+=0x13;else {if(--mzc<0) j=-32768;else if(pb[0x21]+vZpt[0x21]<1 || pb[0x22]+vZpt[0x22]<1 || pb[0x23]+vZpt[0x23]<1) j=-32768;else {jj=0;if(pb[0x21]>0) jj++;if(pb[0x22]>0) jj++;if(pb[0x23]>0) jj++;if(jj>0) j+=0x10+jj;}}if(shunzi[0x18]>0) j+=0x13;else {if(--mzc<0) j=-32768;else if(pb[0x17]+vZpt[0x17]<1 || pb[0x18]+vZpt[0x18]<1 || pb[0x19]+vZpt[0x19]<1) j=-32768;else {jj=0;if(pb[0x17]>0) jj++;if(pb[0x18]>0) jj++;if(pb[0x19]>0) jj++;if(jj>0) j+=0x10+jj;}}if(vLim<=j && vMax<=j){if(vMax<j){ vMax=j; ptc=0; }ptn0[ptc]=0x04;ptn1[ptc]=0x21;ptn2[ptc]=0x17;yh[ptc]=y;cds[ptc++]='0 0 0 0 0 0 0 0 0 ';}mzc=mzcb; j=0; k=0;if(shunzi[0x08]>0) j+=0x13;else {if(--mzc<0) j=-32768;else if(pb[0x07]+vZpt[0x07]<1 || pb[0x08]+vZpt[0x08]<1 || pb[0x09]+vZpt[0x09]<1) j=-32768;else {jj=0;if(pb[0x07]>0) jj++;if(pb[0x08]>0) jj++;if(pb[0x09]>0) jj++;if(jj>0) j+=0x10+jj;}}mzc2=mzc; j1=j; k1=k;if(shunzi[0x12]>0) j+=0x13;else {if(--mzc<0) j=-32768;else if(pb[0x11]>0 && pb[0x12]>0 && pb[0x13]>0) jj=3;else if(pb[0x11]+vZpt[0x11]<1 || pb[0x12]+vZpt[0x12]<1 || pb[0x13]+vZpt[0x13]<1) j=-32768;else {jj=0;if(pb[0x11]>0) jj++;if(pb[0x12]>0) jj++;if(pb[0x13]>0) jj++;if(jj>0) j+=0x10+jj;}}if(shunzi[0x25]>0) j+=0x13;else {if(--mzc<0) j=-32768;else if(pb[0x24]+vZpt[0x24]<1 || pb[0x25]+vZpt[0x25]<1 || pb[0x26]+vZpt[0x26]<1) j=-32768;else {jj=0;if(pb[0x24]>0) jj++;if(pb[0x25]>0) jj++;if(pb[0x26]>0) jj++;if(jj>0) j+=0x10+jj;}}if(vLim<=j && vMax<=j){if(vMax<j){ vMax=j; ptc=0; }ptn0[ptc]=0x07;ptn1[ptc]=0x11;ptn2[ptc]=0x24;yh[ptc]=y;cds[ptc++]='0 0 0 0 0 0 0 0 0 ';}mzc=mzc2; j=j1; k=k1;if(shunzi[0x22]>0) j+=0x13;else {if(--mzc<0) j=-32768;else if(pb[0x21]+vZpt[0x21]<1 || pb[0x22]+vZpt[0x22]<1 || pb[0x23]+vZpt[0x23]<1) j=-32768;else {jj=0;if(pb[0x21]>0) jj++;if(pb[0x22]>0) jj++;if(pb[0x23]>0) jj++;if(jj>0) j+=0x10+jj;}}if(shunzi[0x15]>0) j+=0x13;else {if(--mzc<0) j=-32768;else if(pb[0x14]+vZpt[0x14]<1 || pb[0x15]+vZpt[0x15]<1 || pb[0x16]+vZpt[0x16]<1) j=-32768;else {jj=0;if(pb[0x14]>0) j++;if(pb[0x15]>0) j++;if(pb[0x16]>0) j++;if(jj>0) j+=0x10+jj;}}if(vLim<=j && vMax<=j){if(vMax<j){ vMax=j; ptc=0; }ptn0[ptc]=0x07;ptn1[ptc]=0x14;ptn2[ptc]=0x21;yh[ptc]=y;cds[ptc++]='0 0 0 0 0 0 0 0 0 ';}}if(suit<0){y=8; i=0; il=8;if(num>1){ i=num-1; il=num+1; }while(++i<il){mzc=mzcb; j=0; k=0;if(shunzi[i+0x01]>0) j+=0x13;else {if(--mzc<0) j=-32768;else if(pb[i+0x00]+vZpt[i+0x00]<1 || pb[i+0x01]+vZpt[i+0x01]<1 || pb[i+0x02]+vZpt[i+0x02]<1) j=-32768;else {jj=0;if(pb[i+0x00]>0) jj++;if(pb[i+0x01]>0) jj++;if(pb[i+0x02]>0) jj++;if(jj>0) j+=0x10+jj;}}if(shunzi[i+0x11]>0) j+=0x13;else {if(--mzc<0) j=-32768;else if(pb[i+0x10]+vZpt[i+0x10]<1 || pb[i+0x11]+vZpt[i+0x11]<1 || pb[i+0x12]+vZpt[i+0x12]<1) j=-32768;else {jj=0;if(pb[i+0x10]>0) jj++;if(pb[i+0x11]>0) jj++;if(pb[i+0x12]>0) jj++;if(jj>0) j+=0x10+jj;}}if(shunzi[i+0x21]>0) j+=0x13;else {if(--mzc<0) j=-32768;else if(pb[i+0x20]+vZpt[i+0x20]<1 || pb[i+0x21]+vZpt[i+0x21]<1 || pb[i+0x22]+vZpt[i+0x22]<1) j=-32768;else {jj=0;if(pb[i+0x20]>0) jj++;if(pb[i+0x21]>0) jj++;if(pb[i+0x22]>0) jj++;if(jj>0) j+=0x10+jj;}}if(vLim<=j && vMax<=j){if(vMax<j){ vMax=j; ptc=0; }ptn0[ptc]=i+0x00;ptn1[ptc]=i+0x10;ptn2[ptc]=i+0x20;yh[ptc]=y;cds[ptc++]='0 0 0 0 0 0 0 0 0 ';}if(i<2 || i>5 || num>1) continue;mzc=mzcb; j=k=0;if(shunzi[i+0x01]>0) j+=0x13;else {if(--mzc<0) j=-32768;else if(pb[i+0x00]+vZpt[i+0x00]<1 || pb[i+0x01]+vZpt[i+0x01]<1 || pb[i+0x02]+vZpt[i+0x02]<1) j=-32768;else {jj=0;if(pb[i+0x00]>0) jj++;if(pb[i+0x01]>0) jj++;if(pb[i+0x02]>0) jj++;if(jj>0) j+=0x10+jj;}}mzc2=mzc; j1=j; k1=k;if(shunzi[i+0x12]>0) j+=0x13;else {if(--mzc<0) j=-32768;else if(pb[i+0x11]+vZpt[i+0x11]<1 || pb[i+0x12]+vZpt[i+0x12]<1 || pb[i+0x13]+vZpt[i+0x13]<1) j=-32768;else {jj=0;if(pb[i+0x11]>0) jj++;if(pb[i+0x12]>0) jj++;if(pb[i+0x13]>0) jj++;if(jj>0) j+=0x10+jj;}}if(shunzi[i+0x23]>0) j+=0x13;else {if(--mzc<0) j=-32768;else if(pb[i+0x22]+vZpt[i+0x22]<1 || pb[i+0x23]+vZpt[i+0x23]<1 || pb[i+0x24]+vZpt[i+0x24]<1) j=-32768;else {jj=0;if(pb[i+0x22]>0) jj++;if(pb[i+0x23]>0) jj++;if(pb[i+0x24]>0) jj++;if(jj>0) j+=0x10+jj;}}if(vLim<=j && vMax<=j){if(vMax<j){ vMax=j; ptc=0; }ptn0[ptc]=i+0x00;ptn1[ptc]=i+0x11;ptn2[ptc]=i+0x22;yh[ptc]=6;cds[ptc++]='0 0 0 0 0 0 0 0 0 ';}mzc=mzc2; j=j1; k=k1;if(shunzi[i+0x22]>0) j+=0x13;else {if(--mzc<0) j=-32768;else if(pb[i+0x21]+vZpt[i+0x21]<1 || pb[i+0x22]+vZpt[i+0x22]<1 || pb[i+0x23]+vZpt[i+0x23]<1) j=-32768;else {jj=0;if(pb[i+0x21]>0) jj++;if(pb[i+0x22]>0) jj++;if(pb[i+0x23]>0) jj++;if(jj>0) j+=0x10+jj;}}if(shunzi[i+0x13]>0) j+=0x13;else {if(--mzc<0) j=-32768;else if(pb[i+0x12]+vZpt[i+0x12]<1 || pb[i+0x13]+vZpt[i+0x13]<1 || pb[i+0x14]+vZpt[i+0x14]<1) j=-32768;else {jj=0;if(pb[i+0x12]>0) jj++;if(pb[i+0x13]>0) jj++;if(pb[i+0x14]>0) jj++;if(jj>0) j+=0x10+jj;}}if(vLim<=j && vMax<=j){if(vMax<j){ vMax=j; ptc=0; }ptn0[ptc]=i+0x00;ptn1[ptc]=i+0x12;ptn2[ptc]=i+0x21;yh[ptc]=6;cds[ptc++]='0 0 0 0 0 0 0 0 0 ';}mzc=mzcb; j=k=0;if(shunzi[i+0x02]>0) j+=0x13;else {if(--mzc<0) j=-32768;else if(pb[i+0x01]+vZpt[i+0x01]<1 || pb[i+0x02]+vZpt[i+0x02]<1 || pb[i+0x03]+vZpt[i+0x03]<1) j=-32768;else {jj=0;if(pb[i+0x01]>0) jj++;if(pb[i+0x02]>0) jj++;if(pb[i+0x03]>0) jj++;if(jj>0) j+=0x10+jj;}}mzc2=mzc; j1=j; k1=k;if(shunzi[i+0x11]>0) j+=0x13;else {if(--mzc<0) j=-32768;else if(pb[i+0x10]+vZpt[i+0x10]<1 || pb[i+0x11]+vZpt[i+0x11]<1 || pb[i+0x12]+vZpt[i+0x12]<1) j=-32768;else {jj=0;if(pb[i+0x10]>0) jj++;if(pb[i+0x11]>0) jj++;if(pb[i+0x12]>0) jj++;if(jj>0) j+=0x10+jj;}}if(shunzi[i+0x23]>0) j+=0x13;else {if(--mzc<0) j=-32768;else if(pb[i+0x22]+vZpt[i+0x22]<1 || pb[i+0x23]+vZpt[i+0x23]<1 || pb[i+0x24]+vZpt[i+0x24]<1) j=-32768;else {jj=0;if(pb[i+0x22]>0) jj++;if(pb[i+0x23]>0) jj++;if(pb[i+0x24]>0) jj++;if(jj>0) j+=0x10+jj;}}if(vLim<=j && vMax<=j){if(vMax<j){ vMax=j; ptc=0; }ptn0[ptc]=i+0x01;ptn1[ptc]=i+0x10;ptn2[ptc]=i+0x22;yh[ptc]=6;cds[ptc++]='0 0 0 0 0 0 0 0 0 ';}mzc=mzc2; j=j1; k=k1;if(shunzi[i+0x21]>0) j+=0x13;else {if(--mzc<0) j=-32768;else if(pb[i+0x20]+vZpt[i+0x20]<1 || pb[i+0x21]+vZpt[i+0x21]<1 || pb[i+0x22]+vZpt[i+0x22]<1) j=-32768;else {jj=0;if(pb[i+0x20]>0) jj++;if(pb[i+0x21]>0) jj++;if(pb[i+0x22]>0) jj++;if(jj>0) j+=0x10+jj;}}if(shunzi[i+0x13]>0) j+=0x13;else {if(--mzc<0) j=-32768;else if(pb[i+0x12]+vZpt[i+0x12]<1 || pb[i+0x13]+vZpt[i+0x13]<1 || pb[i+0x14]+vZpt[i+0x14]<1) j=-32768;else {jj=0;if(pb[i+0x12]>0) jj++;if(pb[i+0x13]>0) jj++;if(pb[i+0x14]>0) jj++;if(jj>0) j+=0x10+jj;}}if(vLim<=j && vMax<=j){if(vMax<j){ vMax=j; ptc=0; }ptn0[ptc]=i+0x01;ptn1[ptc]=i+0x12;ptn2[ptc]=i+0x20;yh[ptc]=6;cds[ptc++]='0 0 0 0 0 0 0 0 0 ';}mzc=mzcb; j=k=0;if(shunzi[i+0x03]>0) j+=0x13;else {if(--mzc<0) j=-32768;else if(pb[i+0x02]+vZpt[i+0x02]<1 || pb[i+0x03]+vZpt[i+0x03]<1 || pb[i+0x04]+vZpt[i+0x04]<1) j=-32768;else {jj=0;if(pb[i+0x02]>0) jj++;if(pb[i+0x03]>0) jj++;if(pb[i+0x04]>0) jj++;if(jj>0) j+=0x10+jj;}}mzc2=mzc; j1=j; k1=k;if(shunzi[i+0x11]>0) j+=0x13;else {if(--mzc<0) j=-32768;else if(pb[i+0x10]+vZpt[i+0x10]<1 || pb[i+0x11]+vZpt[i+0x11]<1 || pb[i+0x12]+vZpt[i+0x12]<1) j=-32768;else {jj=0;if(pb[i+0x10]>0) jj++;if(pb[i+0x11]>0) jj++;if(pb[i+0x12]>0) jj++;if(jj>0) j+=0x10+jj;}}if(shunzi[i+0x22]>0) j+=0x13;else {if(--mzc<0) j=-32768;else if(pb[i+0x21]+vZpt[i+0x21]<1 || pb[i+0x22]+vZpt[i+0x22]<1 || pb[i+0x23]+vZpt[i+0x23]<1) j=-32768;else {jj=0;if(pb[i+0x21]>0) jj++;if(pb[i+0x22]>0) jj++;if(pb[i+0x23]>0) jj++;if(jj>0) j+=0x10+jj;}}if(vLim<=j && vMax<=j){if(vMax<j){ vMax=j; ptc=0; }ptn0[ptc]=i+0x02;ptn1[ptc]=i+0x10;ptn2[ptc]=i+0x21;yh[ptc]=6;cds[ptc++]='0 0 0 0 0 0 0 0 0 ';}mzc=mzc2; j=j1; k=k1;if(shunzi[i+0x21]>0) j+=0x13;else {if(--mzc<0) j=-32768;else if(pb[i+0x20]+vZpt[i+0x20]<1 || pb[i+0x21]+vZpt[i+0x21]<1 || pb[i+0x22]+vZpt[i+0x22]<1) j=-32768;else {jj=0;if(pb[i+0x20]>0) jj++;if(pb[i+0x21]>0) jj++;if(pb[i+0x22]>0) jj++;if(jj>0) j+=0x10+jj;}}if(shunzi[i+0x12]>0) j+=0x13;else {if(--mzc<0) j=-32768;else if(pb[i+0x11]+vZpt[i+0x11]<1 || pb[i+0x12]+vZpt[i+0x12]<1 || pb[i+0x13]+vZpt[i+0x13]<1) j=-32768;else {jj=0;if(pb[i+0x11]>0) jj++;if(pb[i+0x12]>0) jj++;if(pb[i+0x13]>0) jj++;if(jj>0) j+=0x10+jj;}}if(vLim<=j && vMax<=j){if(vMax<j){ vMax=j; ptc=0; }ptn0[ptc]=i+0x02;ptn1[ptc]=i+0x11;ptn2[ptc]=i+0x20;yh[ptc]=6;cds[ptc++]='0 0 0 0 0 0 0 0 0 ';}}}if(ptc<1) return(0);var yy=0;i=0x40; while(--i>0) XOO[i]=OXO[i]=OOX[i]=vv[i]=wt[i]=0;i=ptc; while(--i>-1){yy+=yh[i];k=yh[i] << 8; j=0x40; while(--j>=0) p[j]=pb[j];j=ptn0[i];cd=cds[i].split(' ');if(shunzi[j+1]<1){p1=p2=p3=0;if((i1=p[j  ]-parseInt(cd[0]))>0) p1++; else i1=1;if((j1=p[j+1]-parseInt(cd[1]))>0) p2++; else j1=1;if((k1=p[j+2]-parseInt(cd[2]))>0) p3++; else k1=1;if(p1 && p2 && !p3){OOX[j+2]+= k;if(j % 10==1 || j % 10==4 || j % 10==7) OOX[j+2]+= k;}if(p1 && !p2 && p3){OXO[j+1]+= k;if(j % 10==1 || j % 10==4 || j % 10==7) OXO[j+1]+= k;}if(!p1 && p2 && p3){XOO[j  ]+= k;if(j % 10==1 || j % 10==4 || j % 10==7) XOO[j  ]+= k;}i1=Math.min(i1, Math.min(j1, k1))+1;if(p[j  ]-parseInt(cd[0])<i1){vv[j  ]+=k;if(p[j  ]-parseInt(cd[0])<i1-1) rqq[i  ]+=k;}if(p[j+1]-parseInt(cd[1])<i1){vv[j+1]+=k;if(p[j+1]-parseInt(cd[1])<i1-1) rqq[i+1]+=k;}if(p[j+2]-parseInt(cd[2])<i1){vv[j+2]+=k;if(p[j+2]-parseInt(cd[2])<i1-1) rqq[i+2]+=k;}}j=ptn1[i];if(shunzi[j+1]<1){p1=p2=p3=0;if((i1=p[j  ]-parseInt(cd[3]))>0) p1++; else i1=1;if((j1=p[j+1]-parseInt(cd[4]))>0) p2++; else j1=1;if((k1=p[j+2]-parseInt(cd[5]))>0) p3++; else k1=1;if(p1 && p2 && !p3){OOX[j+2]+= k;if(j % 10==1 || j % 10==4 || j % 10==7) OOX[j+2]+= k;}if(p1 && !p2 && p3){OXO[j+1]+= k;if(j % 10==1 || j % 10==4 || j % 10==7) OXO[j+1]+= k;}if(!p1 && p2 && p3){XOO[j  ]+= k;if(j % 10==1 || j % 10==4 || j % 10==7) XOO[j  ]+= k;}i1=Math.min(i1, Math.min(j1, k1))+1;if(p[j  ]-parseInt(cd[3])<i1){vv[j  ]+=k;if(p[j  ]-parseInt(cd[3])<i1-1) rqq[i  ]+=k;}if(p[j+1]-parseInt(cd[4])<i1){vv[j+1]+=k;if(p[j+1]-parseInt(cd[4])<i1-1) rqq[i+1]+=k;}if(p[j+2]-parseInt(cd[5])<i1){vv[j+2]+=k;if(p[j+2]-parseInt(cd[5])<i1-1) rqq[i+2]+=k;}}j=ptn2[i];if(shunzi[j+1]<1){p1=p2=p3=0;if((i1=p[j  ]-parseInt(cd[6]))>0) p1++; else i1=1;if((j1=p[j+1]-parseInt(cd[7]))>0) p2++; else j1=1;if((k1=p[j+2]-parseInt(cd[8]))>0) p3++; else k1=1;if(p1 && p2 && !p3){OOX[j+2]+= k;if(j % 10==1 || j % 10==4 || j % 10==7) OOX[j+2]+= k;}if(p1 && !p2 && p3){OXO[j+1]+= k;if(j % 10==1 || j % 10==4 || j % 10==7) OXO[j+1]+= k;}if(!p1 && p2 && p3){XOO[j  ]+= k;if(j % 10==1 || j % 10==4 || j % 10==7) XOO[j  ]+= k;}i1=Math.min(i1, Math.min(j1, k1))+1;if(p[j  ]-parseInt(cd[6])<i1){vv[j  ]+=k;if(p[j  ]-parseInt(cd[6])<i1-1) rqq[i  ]+=k;}if(p[j+1]-parseInt(cd[7])<i1){vv[j+1]+=k;if(p[j+1]-parseInt(cd[7])<i1-1) rqq[i+1]+=k;}if(p[j+2]-parseInt(cd[8])<i1){vv[j+2]+=k;if(p[j+2]-parseInt(cd[8])<i1-1) rqq[i+2]+=k;}}}i=0x30; while(--i>0){vYaku[i]+=Math.floor(vv[i] / ptc);_t[jia].required[i]+=Math.floor(rqq[i] / ptc);vXOO[i]+=Math.floor(XOO[i] / ptc);vOXO[i]+=Math.floor(OXO[i] / ptc);vOOX[i]+=Math.floor(OOX[i] / ptc);}_t[jia].neraiyaku+=Math.floor(yy / ptc);return(1);}function a0172(jia, num, suit){var kezi=new Array(0x40), fsc;var pb=new Array(0x40), p=new Array(0x40);var OOO=new Array(0x40), vv=new Array(0x40);var i, j, k, l, il, j1, k1, y, jj, yy;var vMax=0;var ptn0=new Array(), ptn1=new Array(), ptn2=new Array(), yh=new Array(), ptc=0;var p1, p2, p3;var mzc, mzc2, mzcb;var rqq=new Array(0x40);var tk=new Array(0x40);var ank=0;i=0x40; while(--i>=-1) pb[i]=kezi[i]=rqq[i]=0;fsc=0; k=-5; i=_t[jia].fulou_ctr; while(--i>-1){k+=5;j=_t[jia].fuloupai[k] & 0x3f;if(j!=(_t[jia].fuloupai[k+1] & 0x3f)) continue;fsc++; kezi[j]++;if(_t[jia].fuloupai[k+4]) ank++;}if(_t[jia].fulou_ctr-fsc>1) return(0);i=20; while(--i>=0){if((j=_t[jia].shupai[i] & 0x3f)>0 && j<0x30) pb[j]++;}mzcb=4-_t[jia].fulou_ctr;var pengOK=1;yy=j=k=0;l=t_ptCtr; while(--l>-1){if(j>t_pt[l].kezi_ctr) continue;if(j<t_pt[l].kezi_ctr){j=t_pt[l].kezi_ctr; k=0;}if(k<t_pt[l].duizi_ctr){k=t_pt[l].duizi_ctr;}}jj=j;if(_t[jia].fulou_ctr-fsc<1){j+=fsc;if(j>3 || (j>2 && j+k>3)){if(!_t[jia].menqian_flag){yy=0x0d00; pengOK=0;if(_t_gamemode==_T_GAMEMODE_BEINUKI) yy=0x0c00;else if(_t_gamemode==_T_GAMEMODE_ARSHIAR || _t_gamemode==_T_GAMEMODE_BOO) yy=0x0400;else if(_t_gamemode==_T_GAMEMODE_GUOJI) yy=0x4000;}else if(_t_gamemode!=_T_GAMEMODE_BEINUKI){yy=0x0200; pengOK=1;if(_t_gamemode==_T_GAMEMODE_ARSHIAR) yy=0x0100;else if(_t_gamemode==_T_GAMEMODE_GUOJI) yy=0x0600;}}}if(!yy && _t_gamemode!=_T_GAMEMODE_BEINUKI){j=jj+ank;if(j>2 || (j>1 && j+k>2)){yy=0x0200; pengOK=0;if(_t_gamemode==_T_GAMEMODE_ARSHIAR) yy=0x0100;else if(_t_gamemode==_T_GAMEMODE_GUOJI) yy=0x1800;}}if(yy){i=0x40; while(--i>=-1) tk[i]=0;l=t_ptCtr; while(--l>-1){if(jj>t_pt[l].kezi_ctr) continue;i=t_pt[l].kezi_ctr; while(--i>-1) tk[t_pt[l].kezi[i]]=2;i=t_pt[l].duizi_ctr; while(--i>-1){if(tk[t_pt[l].duizi[i]]<2) tk[t_pt[l].duizi[i]]=1;}}i=40; while(--i>-1){if(tk[i]>0){vYaku[i]+=yy;if(tk[i]<2 && pengOK) vXOO[i]+=yy;}}_t[jia].neraiyaku+=yy >> 8;}if(_t_gamemode==_T_GAMEMODE_BEINUKI || _t_gamemode==_T_GAMEMODE_ARSHIAR || _t_gamemode==_T_GAMEMODE_BOO) return(yy >> 0);if(num<1){i=0; il=28;y=2; if(_t_gamemode==_T_GAMEMODE_ARSHIAR || _t_gamemode==_T_GAMEMODE_BOO || !_t_rule.yaku.sanlianke) y=0;if(_t_gamemode==_T_GAMEMODE_GUOJI) y=24;if(suit>-1){i=suit; il=suit+6;}while(++i<il){if((i & 0x0f)>7) continue;mzc=mzcb; j=0;if(kezi[i]>0 || pb[i]>2) j+=0x13;else {if(--mzc<0 || pb[i]<2 || pb[i]+vZpt[i]<3) continue;j+=0x10+pb[i];}if(kezi[i+1]>0 || pb[i+1]>2) j+=0x13;else {if(--mzc<0 || pb[i+1]<2 || pb[i+1]+vZpt[i+1]<3) continue;j+=0x10+pb[i+1];}if(kezi[i+2]>0 || pb[i+2]>2) j+=0x13;else {if(--mzc<0 || pb[i+2]<2 || pb[i+2]+vZpt[i+2]<3) continue;j+=0x10+pb[i+2];}if(y<1 || vMax>j) continue;if(vMax<j){ vMax=j; ptc=0; }ptn0[ptc]=i;ptn1[ptc]=i+1;ptn2[ptc]=i+2;yh[ptc++]=y;}}if(suit<0 && (_t_players!=3 || _t_gamemode==_T_GAMEMODE_PENGLI)){y=2; if(_t_gamemode==_T_GAMEMODE_GUOJI) y=16;if(_t_gamemode==_T_GAMEMODE_ARSHIAR || _t_gamemode==_T_GAMEMODE_BOO){y=1;if(!_t_rule.yaku.sanshoku) y=0;}i=0; il=10;if(num>1){ i=num-1; il=num+1; }while(++i<il){mzc=mzcb; j=0; k=0;if(kezi[i+0x00]>0 || pb[i+0x00]>2) j+=0x13;else {if(--mzc<0 || pb[i+0x00]<2) j=-32768;else if(pb[i+0x00]+vZpt[i+0x00]<3) j=-32768;else {j+=0x10+pb[i+0x00];}}if(kezi[i+0x10]>0 || pb[i+0x10]>2) j+=0x13;else {if(--mzc<0 || pb[i+0x10]<2) j=-32768;else if(pb[i+0x10]+vZpt[i+0x10]<3) j=-32768;else {j+=0x10+pb[i+0x10];}}if(kezi[i+0x20]>0 || pb[i+0x20]>2) j+=0x13;else {if(--mzc<0 || pb[i+0x20]<2) j=-32768;else if(pb[i+0x20]+vZpt[i+0x20]<3) j=-32768;else {j+=0x10+pb[i+0x20];}}if(y>0 && vMax<=j){if(vMax<j){ vMax=j; ptc=0; }ptn0[ptc]=i+0x00;ptn1[ptc]=i+0x10;ptn2[ptc]=i+0x20;yh[ptc++]=y;}if(_t_gamemode!=_T_GAMEMODE_GUOJI || i<2  || i>7 || num>1) continue;mzc=mzcb; j=k=0;if(kezi[i+0x00-1]>0 || pb[i+0x00-1]>2) j+=0x13;else {if(--mzc<0 || pb[i+0x00-1]<2) j=-32768;else if(pb[i+0x00-1]+vZpt[i+0x00-1]<3) j=-32768;else {j+=0x10+pb[i+0x00-1];}}mzc2=mzc; j1=j; k1=k;if(kezi[i+0x10]>0 || pb[i+0x10]>2) j+=0x13;else {if(--mzc<0 || pb[i+0x10]<2) j=-32768;else if(pb[i+0x10]+vZpt[i+0x10]<3) j=-32768;else {j+=0x10+pb[i+0x10];}}if(kezi[i+0x21]>0 || pb[i+0x21]>2) j+=0x13;else {if(--mzc<0 || pb[i+0x21]<2) j=-32768;else if(pb[i+0x21]+vZpt[i+0x21]<3) j=-32768;else {j+=0x10+pb[i+0x21];}}if(vMax<=j){if(vMax<j){ vMax=j; ptc=0; }ptn0[ptc]=i+0x00-1;ptn1[ptc]=i+0x10;ptn2[ptc]=i+0x21;yh[ptc++]=8;}mzc=mzc2; j=j1; k=k1;if(kezi[i+0x11]>0 || pb[i+0x11]>2) j+=0x13;else {if(--mzc<0 || pb[i+0x11]<2) j=-32768;else if(pb[i+0x11]+vZpt[i+0x11]<3) j=-32768;else {j+=0x10+pb[i+0x11];}}if(kezi[i+0x20]>0 || pb[i+0x20]>2) j+=0x13;else {if(--mzc<0 || pb[i+0x20]<2) j=-32768;else if(pb[i+0x20]+vZpt[i+0x20]<3) j=-32768;else {j+=0x10+pb[i+0x20];}}if(vMax<=j){if(vMax<j){ vMax=j; ptc=0; }ptn0[ptc]=i+0x00-1;ptn1[ptc]=i+0x11;ptn2[ptc]=i+0x20;yh[ptc++]=8;}mzc=mzcb; j=k=0;if(kezi[i+0x00]>0 || pb[i+0x00]>2) j+=0x13;else {if(--mzc<0 || pb[i+0x00]<2) j=-32768;else if(pb[i+0x00]+vZpt[i+0x00]<3) j=-32768;else {j+=0x10+pb[i+0x00];}}mzc2=mzc; j1=j; k1=k;if(kezi[i+0x10-1]>0 || pb[i+0x10-1]>2) j+=0x13;else {if(--mzc<0 || pb[i+0x10-1]<2) j=-32768;else if(pb[i+0x10-1]+vZpt[i+0x10-1]<3) j=-32768;else {j+=0x10+pb[i+0x10-1];}}if(kezi[i+0x21]>0 || pb[i+0x21]>2) j+=0x13;else {if(--mzc<0 || pb[i+0x21]<2) j=-32768;else if(pb[i+0x21]+vZpt[i+0x21]<3) j=-32768;else {j+=0x10+pb[i+0x21];}}if(vMax<=j){if(vMax<j){ vMax=j; ptc=0; }ptn0[ptc]=i+0x00;ptn1[ptc]=i+0x10-1;ptn2[ptc]=i+0x21;yh[ptc++]=8;}mzc=mzc2; j=j1; k=k1;if(kezi[i+0x11]>0 || pb[i+0x11]>2) j+=0x13;else {if(--mzc<0 || pb[i+0x11]<2) j=-32768;else if(pb[i+0x11]+vZpt[i+0x11]<3) j=-32768;else {j+=0x10+pb[i+0x11];}}if(kezi[i+0x20-1]>0 || pb[i+0x20-1]>2) j+=0x13;else {if(--mzc<0 || pb[i+0x20-1]<2) j=-32768;else if(pb[i+0x20-1]+vZpt[i+0x20-1]<3) j=-32768;else {j+=0x10+pb[i+0x20-1];}}if(vMax<=j){if(vMax<j){ vMax=j; ptc=0; }ptn0[ptc]=i+0x00;ptn1[ptc]=i+0x11;ptn2[ptc]=i+0x20-1;yh[ptc++]=8;}mzc=mzcb; j=k=0;if(kezi[i+0x01]>0 || pb[i+0x01]>2) j+=0x13;else {if(--mzc<0 || pb[i+0x01]<2) j=-32768;else if(pb[i+0x01]+vZpt[i+0x01]<3) j=-32768;else {j+=0x10+pb[i+0x01];}}mzc2=mzc; j1=j; k1=k;if(kezi[i+0x10-1]>0 || pb[i+0x10-1]>2) j+=0x13;else {if(--mzc<0 || pb[i+0x10-1]<2) j=-32768;else if(pb[i+0x10-1]+vZpt[i+0x10-1]<3) j=-32768;else {j+=0x10+pb[i+0x10-1];}}if(kezi[i+0x20]>0 || pb[i+0x20]>2) j+=0x13;else {if(--mzc<0 || pb[i+0x20]<2) j=-32768;else if(pb[i+0x20]+vZpt[i+0x20]<3) j=-32768;else {j+=0x10+pb[i+0x20];}}if(vMax<=j){if(vMax<j){ vMax=j; ptc=0; }ptn0[ptc]=i+0x01;ptn1[ptc]=i+0x10-1;ptn2[ptc]=i+0x20;yh[ptc++]=8;}mzc=mzc2; j=j1; k=k1;if(kezi[i+0x10]>0 || pb[i+0x10]>2) j+=0x13;else {if(--mzc<0 || pb[i+0x10]<2) j=-32768;else if(pb[i+0x10]+vZpt[i+0x10]<3) j=-32768;else {j+=0x10+pb[i+0x10];}}if(kezi[i+0x20-1]>0 || pb[i+0x20-1]>2) j+=0x13;else {if(--mzc<0 || pb[i+0x20-1]<2) j=-32768;else if(pb[i+0x20-1]+vZpt[i+0x20-1]<3) j=-32768;else {j+=0x10+pb[i+0x20-1];}}if(vMax<=j){if(vMax<j){ vMax=j; ptc=0; }ptn0[ptc]=i+0x01;ptn1[ptc]=i+0x10;ptn2[ptc]=i+0x20-1;yh[ptc++]=8;}}}if(ptc<1) return(0);i=0x40; while(--i>0) OOO[i]=vv[i]=0;yy=0;i=ptc; while(--i>-1){yy+=yh[i];k=yh[i] << 8; j=0x40; while(--j>=0) p[j]=pb[j];j=ptn0[i];if(kezi[j]<1 && p[j]<4){vv[j]+=k;if(p[j]==2) OOO[j]+=k;if(p[j]<3) rqq[j]+=k;}j=ptn1[i];if(kezi[j]<1 && p[j]<4){vv[j]+=k;if(p[j]==2) OOO[j]+=k;if(p[j]<3) rqq[j]+=k;}j=ptn2[i];if(kezi[j]<1 && p[j]<4){vv[j]+=k;if(p[j]==2) OOO[j]+=k;if(p[j]<3) rqq[j]+=k;}}i=0x30; while(--i>0){vYaku[i]+=Math.floor(vv[i] / ptc);_t[jia].required[i]+=Math.floor(rqq[i] / ptc);vOOO[i]+=Math.floor(OOO[i] / ptc);}_t[jia].neraiyaku+=Math.floor(yy / ptc);return(1);}
