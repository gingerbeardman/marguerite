function PLAY_REACH(){_t_gamemode=_T_GAMEMODE_REACH;_t_players=4;_t_control=1;_t_lang='ja';_t_h5_next=setTimeout('GAME_START(); ', 10);}function PLAY_3M(){_t_gamemode=_T_GAMEMODE_CHIP_MAHJONG;_t_players=3;_t_control=1;_t_lang='ja';_t_h5_next=setTimeout('GAME_START(); ', 10);}function PLAY_BEINUKI(){_t_gamemode=_T_GAMEMODE_BEINUKI;_t_players=3;_t_control=1;_t_lang='ja';_t_h5_next=setTimeout('GAME_START(); ', 10);}function PLAY_3R(){_t_gamemode=_T_GAMEMODE_REACH;_t_players=3;_t_control=1;_t_lang='ja';_t_h5_next=setTimeout('GAME_START(); ', 10);}function PLAY_BOO(){_t_gamemode=_T_GAMEMODE_BOO;_t_players=4;_t_control=1;_t_lang='ja';_t_h5_next=setTimeout('GAME_START(); ', 10);}function PLAY_ARSHIAR(){_t_gamemode=_T_GAMEMODE_ARSHIAR;_t_players=4;_t_control=1;_t_lang='ja';_t_h5_next=setTimeout('GAME_START(); ', 10);}function PLAY_TAIWAN(){_t_gamemode=_T_GAMEMODE_TAIWAN;_t_players=4;_t_control=1;_t_lang='ja';_t_h5_next=setTimeout('GAME_START(); ', 10);}function PLAY_PENGLI(){_t_gamemode=_T_GAMEMODE_PENGLI;_t_players=3;_t_control=1;_t_lang='ja';_t_h5_next=setTimeout('GAME_START(); ', 10);}function PLAY_GUOJI(){_t_gamemode=_T_GAMEMODE_GUOJI;_t_players=4;_t_control=1;_t_lang='ja';_t_h5_next=setTimeout('GAME_START(); ', 10);}function PLAY_EBOO(){_t_gamemode=_T_GAMEMODE_EASTERN_BOO;_t_players=4;_t_control=1;_t_h5_next=setTimeout('GAME_START(); ', 10);}function PLAY_REACH_EN(){_t_gamemode=_T_GAMEMODE_REACH;_t_players=4;_t_control=1;_t_lang='en';_t_rule.qiduizi=1;_t_rule.wareme=0;_t_rule.yakitori=0;_t_rule.chip.any=_t_rule.chip.yakibuta=_t_rule.chip.gang=_t_rule.chip.ippatsu=_t_rule.chip.uradora=_t_rule.chip.akapai=_t_rule.chip.hanapai=_t_rule.chip.yakuman=0;_t_rule.bao=0;_t_rule.kyokusu=-1;_t_rule.basu=2;_t_rule.bm_yakuman=_t_rule.bm_menqian=_t_rule.bm_yakunashi_dora=0;_t_reach_mahjong_rule=1;_t_rule.unlimited=0;_t_rule.noFu=0;_t_rule.death_match=0;_t_rule.kuitan_sakizuke=-1;if(_t_rule_sel['RIICHI_EN_kuitan']){_t_rule.kuitan_sakizuke=1;if(_t_rule_sel['RIICHI_EN_kuitan']>1){_t_rule.kuitan_sakizuke=0;}}_t_rule.zhuangfeng=1;_t_rule.liangfan_shibari=0;_t_rule.gangdora=2;_t_rule.uradora=2;_t_rule.ippatsu=1;_t_rule.open_reach=0;_t_rule.furiten_reach=1;_t_rule.akapai=5;if(_t_rule_sel['RIICHI_EN_redFives']){_t_rule.akapai=0;}_t_rule.akapai_deal=0;_t_rule.hana=0;_t_rule.kuinaoshi=(_t_rule_sel['RIICHI_EN_swapCalling']) ? 2 : 0;_t_rule.shengpaibao=0;_t_rule.liangjiahe=1;_t_rule.sifengzilianda=1;_t_rule.sijia_reach=1;_t_rule.sigangsuanle=1;_t_rule.sanjiahe_pingju=0;_t_rule.pingju_lunzhuang11=1;_t_rule.huangpai_lunzhuang=2;_t_rule.pingju_lunzhuang2=0;_t_rule.agariyame=0;_t_rule.knockOut=0;_t_rule.fulou_pinghe=0;_t_rule.mo8pinghe=1;_t_rule.qiudizi=2;_t_rule.angang_guoshi=_t_rule.furiten_guoshi=0;_t_rule.notem_bappu=_t_rule.menqianqing=1;_t_rule.kiriage_manguan=_t_rule.wareme=_t_rule.yakitori=0;_t_rule.bao=1;_t_rule.yaku=new Object();_t_rule.yaku.menqianqing=_t_rule.yaku.gang_buri=_t_rule.yaku.xiaotongke=_t_rule.yaku.sansetongguang=_t_rule.yaku.yisesanshun=_t_rule.yaku.yisesishun=_t_rule.yaku.sanfengzi=_t_rule.yaku.sanlianke=_t_rule.yaku.silianke=_t_rule.yaku.sujipaike=_t_rule.yaku.shuanglongzhengzhu=_t_rule.yaku.wumenqi=_t_rule.yaku.yitongmoyue=_t_rule.yaku.fenghuaxueyue=_t_rule.yaku.benikujaku=_t_rule.yaku.wanlusouzhoungyidianhong=_t_rule.yaku.balianzhuang=0;_t_rule.yaku.daisharin=_t_rule.yaku.hyakumangoku=_t_rule.yaku.shisanbuta=0;_t_rule.yaku.renhe=_t_rule.yaku.yaojiu_furikiri=128;_t_rule.unlimited=0;_t_rule.noFu=0;_t_rule.death_match=0;_t_reach_fee=10;_t_tsumi_mohe=3;_t_tsumi_rong=3;_t_mochiten=0;_t_genten=0;_t_rule.qiduizi_fu=25;_t_h5_next=setTimeout('GAME_START_I18N(); ', 10);}function PLAY_GUOJI_EN(){_t_gamemode=_T_GAMEMODE_GUOJI;_t_players=4;_t_control=1;_t_lang='en';_t_openmode=0;_t_rule.qiduizi=1;_t_rule.wareme=0;_t_rule.yakitori=0;_t_rule.chip.any=_t_rule.chip.yakibuta=_t_rule.chip.gang=_t_rule.chip.ippatsu=_t_rule.chip.uradora=_t_rule.chip.akapai=_t_rule.chip.hanapai=_t_rule.chip.yakuman=0;_t_rule.bao=0;_t_rule.kuitan_sakizuke=0;_t_rule.zhuangfeng=0;_t_rule.liangfan_shibari=0;_t_rule.gangdora=0;_t_rule.uradora=0;_t_rule.ippatsu=0;_t_rule.open_reach=0;_t_rule.furiten_reach=0;_t_rule.akapai=0;_t_rule.akapai_deal=0;_t_rule.hana=2;if(_t_rule_sel['guoji_hanapai_EN']) _t_rule.hana=0;_t_rule.kuinaoshi=0;_t_rule.shengpaibao=0;_t_rule.liangjiahe=0;_t_rule.sifengzilianda=0;_t_rule.sijia_reach=0;_t_rule.sigangsuanle=0;_t_rule.sanjiahe_pingju=0;_t_rule.pingju_lunzhuang1=0;_t_rule.huangpai_lunzhuang=0;_t_rule.pingju_lunzhuang2=0;_t_rule.agariyame=0;_t_rule.knockOut=0;_t_rule.angang_guoshi=0;_t_rule.furiten_guoshi=1;_t_rule.notem_bappu=0;_t_rule.yaku.shisanbuta=0;_t_rule.yaku.yaojiu_furikiri=0;_t_nukidora[0]=_t_nukidora[1]=_t_nukidora[2]=_t_nukidora[3]=-1;_t_rule.lingshang_dora=0;_t_reach_fee=0;_t_tsumi_mohe=0;_t_tsumi_rong=0;_t_tsumi_mohe=0;_t_tsumi_rong=0;_t_mochiten=0;_t_genten=0;_t_rule.qiduizi_fu=30;_t_ePoint=-1;_t_rule.basu=_t_rule_sel['guoji_gamehand_EN'] ? 2 : 4;_t_h5_next=setTimeout('GAME_START_I18N(); ', 10);}function GAME_START(){_t_openmode=0;_t_rule.wareme=0;_t_rule.yakitori=0;_t_rule.chip.any=_t_rule.chip.yakibuta=_t_rule.chip.gang=_t_rule.chip.ippatsu=_t_rule.chip.uradora=_t_rule.chip.akapai=_t_rule.chip.hanapai=_t_rule.chip.yakuman=0;_t_rule.bao=0;_t_rule.kyokusu=-1;_t_rule.basu=2;_t_rule.qiduizi=1;_t_rule.bm_yakuman=_t_rule.bm_menqian=_t_rule.bm_yakunashi_dora=0;_t_reach_mahjong_rule=0;if(_t_gamemode==_T_GAMEMODE_REACH ||    _t_gamemode==_T_GAMEMODE_EASTERN_BOO ||    _t_gamemode==_T_GAMEMODE_CHIP_MAHJONG ||    _t_gamemode==_T_GAMEMODE_PENGLI){_t_reach_mahjong_rule=1;}_t_rule.unlimited=0;_t_rule.noFu=0;_t_rule.death_match=0;if(_t_gamemode==_T_GAMEMODE_REACH && _t_players==3){_t_rule.yaku.sanfengzi=0;_t_rule.yaku.xiaotongke=0;_t_rule.yaku.sansetongguang=0;_t_rule.kuitan_sakizuke=_t_rule_sel['R3_kuitan_sakiduke'] || 0;_t_rule.zhuangfeng=1;_t_rule.liangfan_shibari=_t_rule_sel['R3_liangfan_shibari'] || 0;_t_rule.gangdora=(_t_rule_sel['R3_next_dora'] || 0)+1;_t_rule.uradora=_t_rule_sel['R3_uradora'] || 0;_t_rule.ippatsu=_t_rule_sel['R3_ippatsu'] || 0;_t_rule.open_reach=_t_rule_sel['R3_open_reach'] || 0;_t_rule.furiten_reach=_t_rule_sel['R3_furiten_reach'] || 0;_t_rule.akapai=_t_rule_sel['R3_akarule1'] || 0;_t_rule.akapai_deal=_t_rule_sel['R3_akarule2'] || 0;_t_rule.hana=0;_t_rule.kuinaoshi=_t_rule_sel['R3_kuinaoshi'] || 0;_t_rule.shengpaibao=_t_rule_sel['R3_shengpaibao'] || 0;_t_rule.mohe_payment=_t_rule_sel['R3_payment'] || 0;_t_rule.liangjiahe=_t_rule_sel['R3_liangjiahe'] || 0;_t_rule.sifengzilianda=0;_t_rule.sijia_reach=0;_t_rule.sigangsuanle=_t_rule_sel['R3_sigangsuanle'] || 0;_t_rule.sanjiahe_pingju=0;_t_rule.pingju_lunzhuang1=_t_rule_sel['R3_pingju'] || 0;_t_rule.huangpai_lunzhuang=_t_rule_sel['R3_huangpai'] || 0;_t_rule.pingju_lunzhuang2=_t_rule_sel['R3_huangpai_lunzhuang'] || 0;_t_rule.agariyame=_t_rule_sel['R3_agariyame'] || 0;_t_rule.knockOut=_t_rule_sel['R3_knockout'] || 0;_t_rule.fulou_pinghe=0;_t_rule.mo8pinghe=_t_rule_sel['R3_mobapinghe'] || 0;_t_rule.qiudizi=_t_rule_sel['R3_qiduizi'] || 0;_t_rule.angang_guoshi=_t_rule_sel['R3_angang_guoshi'] || 0;_t_rule.furiten_guoshi=_t_rule_sel['R3_furiten_guoshi'] || 0;_t_rule.notem_bappu=_t_rule_sel['R3_notem_bappu'] || 0;_t_rule.kiriage_manguan=_t_rule_sel['R3_kiriageManguan'] || 0;_t_rule.wareme=_t_rule_sel['R3_wareme'] || 0;_t_rule.yakitori=_t_rule_sel['R3_yakitori'] || 0;_t_rule.yaku.menqianqing=0;_t_rule.yaku.gang_buri=_t_rule_sel['R3_gang_buri'] || 0;_t_rule.yaku.yisesanshun=(_t_rule_sel['R3_yise34shun']>0) ? 2 : 0;_t_rule.yaku.yisesishun=(_t_rule_sel['R3_yise34shun']>4) ? 256 : 0;_t_rule.yaku.sanlianke=(_t_rule_sel['R3_34lianke']>0) ? 2 : 0;_t_rule.yaku.silianke=(_t_rule_sel['R3_34lianke']>4) ? 256 : 0;_t_rule.yaku.sujipaike=(_t_rule_sel['R3_sujipaike']>0) ? 2 : 0;_t_rule.yaku.shuanglongzhengzhu=_t_rule_sel['R3_xianglongxiangju'] || 0;_t_rule.yaku.wumenqi=0;_t_rule.yaku.yitongmoyue=_t_rule_sel['R3_yitonmoyue'] || 0;_t_rule.yaku.fenghuaxueyue=_t_rule_sel['R3_fengxueyuehua'] || 0;_t_rule.yaku.benikujaku=_t_rule_sel['R3_benikujaku'] || 0;_t_rule.yaku.wanlusouzhoungyidianhong=_t_rule_sel['R3_wanlusouzhongyidianhong'] || 0;_t_rule.yaku.balianzhuang=_t_rule_sel['R3_balianzhuang'] || 0;_t_rule.yaku.renhe=128;_t_rule.yaku.daisharin=_t_rule_sel['R3_daisharin'] || 0;_t_rule.yaku.hyakumangoku=0;_t_rule.yaku.shisanbuta=_t_rule_sel['R3_shisanbuta'] || 0;_t_rule.yaku.yaojiu_furikiri=_t_rule_sel['R3_yaojiu_furikiri'] || 0;_t_rule.menqianqing=0;_t_rule.bao=0;_t_nukidora[0]=_t_nukidora[1]=_t_nukidora[2]=_t_nukidora[3]=-1;if(!_t_rule_sel['R3_beinuki']) _t_nukidora[0]=0x34;_t_rule.lingshang_dora=0;_t_reach_fee=10;_t_tsumi_mohe=1;_t_tsumi_rong=3;if(_t_rule_sel['R3_tsumibo']==1){_t_tsumi_mohe=5;_t_tsumi_rong=15;}if(_t_rule_sel['R3_tsumibo']==2){_t_tsumi_mohe=5;_t_tsumi_rong=5;}_t_mochiten=_t_rule_sel['R3_mochiten'] || 0;_t_genten=300;_t_rule.qiduizi_fu=30;if(_t_rule.qiudizi==1) _t_rule.qiduizi_fu=50;if(_t_rule.qiudizi==2) _t_rule.qiduizi_fu=25;_t_ePoint=-1;_t_rule.unlimited=_t_rule_sel['R3_aotenjyo'] || 0;_t_rule.noFu=_t_rule_sel['R3_funashi'] || 0;if(_t_rule_sel['R3_yakitori'] && _t_rule_sel['R3_chip_yakibuta']) _t_rule.chip.any=_t_rule.chip.yakibuta=30;if(_t_rule_sel['R3_chip_gang']) _t_rule.chip.any=_t_rule.chip.gang=1;if(_t_rule_sel['R3_ippatsu'] && _t_rule_sel['R3_chip_ippatsu']) _t_rule.chip.any=_t_rule.chip.ippatsu=1;if(_t_rule_sel['R3_uradora'] && _t_rule_sel['R3_chip_uradora']) _t_rule.chip.any=_t_rule.chip.uradora=1;if((_t_rule_sel['R3_akarule1'] || _t_rule_sel['R3_huapai']) && _t_rule_sel['R3_chip_aka_hana']) _t_rule.chip.any=_t_rule.chip.akapai=_t_rule.chip.hanapai=1;if(_t_rule_sel['R3_chip_yakuman']) _t_rule.chip.any=_t_rule.chip.yakuman=1;}if(_t_gamemode==_T_GAMEMODE_PENGLI || ((_t_gamemode==_T_GAMEMODE_REACH || _t_gamemode==_T_GAMEMODE_EASTERN_BOO) && _t_players!=3)){_t_rule.yaku.sanfengzi=0;_t_rule.yaku.xiaotongke=0;_t_rule.yaku.sansetongguang=0;_t_rule.kuitan_sakizuke=_t_rule_sel['R_kuitan_sakiduke'] || 0;_t_rule.zhuangfeng=_t_rule_sel['R_zhuangfeng'] || 0;if(_t_rule.zhuangfeng<0) _t_rule.basu=1;_t_rule.liangfan_shibari=_t_rule_sel['R_liangfan_shibari'] || 0;_t_rule.gangdora=(_t_rule_sel['R_next_dora'] || 0)+1;_t_rule.uradora=_t_rule_sel['R_uradora'] || 0;_t_rule.ippatsu=_t_rule_sel['R_ippatsu'] || 0;_t_rule.open_reach=_t_rule_sel['R_open_reach'] || 0;_t_rule.furiten_reach=_t_rule_sel['R_furiten_reach'] || 0;_t_rule.akapai=_t_rule_sel['R_akarule1'] || 0;_t_rule.akapai_deal=_t_rule_sel['R_akarule2'] || 0;_t_rule.hana=(_t_rule_sel['R_huapai']) ? 1 : 0;_t_rule.kuinaoshi=_t_rule_sel['R_kuinaoshi'] || 0;_t_rule.shengpaibao=_t_rule_sel['R_shengpaibao'] || 0;_t_rule.liangjiahe=_t_rule_sel['R_liangjiahe'] || 0;_t_rule.sifengzilianda=_t_rule_sel['R_sifengzilianda'] || 0;_t_rule.sijia_reach=_t_rule_sel['R_sijia_reach'] || 0;_t_rule.sigangsuanle=_t_rule_sel['R_sigangsuanle'] || 0;_t_rule.sanjiahe_pingju=_t_rule_sel['R_sanjiahe'] || 0;_t_rule.pingju_lunzhuang1=_t_rule_sel['R_pingju'] || 0;_t_rule.huangpai_lunzhuang=_t_rule_sel['R_huangpai'] || 0;_t_rule.pingju_lunzhuang2=_t_rule_sel['R_huangpai_lunzhuang'] || 0;_t_rule.agariyame=_t_rule_sel['R_agariyame'] || 0;_t_rule.knockOut=_t_rule_sel['R_knockout'] || 0;_t_rule.fulou_pinghe=0;_t_rule.mo8pinghe=_t_rule_sel['R_mobapinghe'] || 0;_t_rule.qiudizi=_t_rule_sel['R_qiduizi'] || 0;_t_rule.angang_guoshi=_t_rule_sel['R_angang_guoshi'] || 0;_t_rule.furiten_guoshi=_t_rule_sel['R_furiten_guoshi'] || 0;_t_rule.notem_bappu=_t_rule_sel['R_notem_bappu'] || 0;_t_rule.kiriage_manguan=_t_rule_sel['R_kiriageManguan'] || 0;_t_rule.wareme=_t_rule_sel['R_wareme'] || 0;_t_rule.yakitori=_t_rule_sel['R_yakitori'] || 0;_t_rule.yaku.menqianqing=0;_t_rule.yaku.gang_buri=_t_rule_sel['R_gang_buri'] || 0;_t_rule.yaku.yisesanshun=(_t_rule_sel['R_yise34shun']>0) ? 2 : 0;_t_rule.yaku.yisesishun=(_t_rule_sel['R_yise34shun']>4) ? 256 : 0;_t_rule.yaku.sanlianke=(_t_rule_sel['R_34lianke']>0) ? 2 : 0;_t_rule.yaku.silianke=(_t_rule_sel['R_34lianke']>4) ? 256 : 0;_t_rule.yaku.sujipaike=(_t_rule_sel['R_sujipaike']>0) ? 2 : 0;_t_rule.yaku.shuanglongzhengzhu=_t_rule_sel['R_xianglongxiangju'] || 0;_t_rule.yaku.wumenqi=_t_rule_sel['R_wumenzhi'] || 0;_t_rule.yaku.yitongmoyue=_t_rule_sel['R_yitonmoyue'] || 0;_t_rule.yaku.fenghuaxueyue=_t_rule_sel['R_fengxueyuehua'] || 0;_t_rule.yaku.benikujaku=_t_rule_sel['R_benikujaku'] || 0;_t_rule.yaku.wanlusouzhoungyidianhong=_t_rule_sel['R_wanlusouzhongyidianhong'] || 0;_t_rule.yaku.balianzhuang=_t_rule_sel['R_balianzhuang'] || 0;_t_rule.yaku.renhe=128;_t_rule.yaku.daisharin=_t_rule_sel['R_daisharin'] || 0;_t_rule.yaku.hyakumangoku=_t_rule_sel['R_hyakumangoku'] || 0;_t_rule.yaku.shisanbuta=_t_rule_sel['R_shisanbuta'] || 0;_t_rule.yaku.yaojiu_furikiri=_t_rule_sel['R_yaojiu_furikiri'] || 0;_t_rule.menqianqing=0;_t_rule.bao=1; if(_t_rule_sel['R_bao']) _t_rule.bao=0;_t_nukidora[0]=_t_nukidora[1]=_t_nukidora[2]=_t_nukidora[3]=-1;_t_rule.lingshang_dora=0;_t_reach_fee=10;_t_tsumi_mohe=1;_t_tsumi_rong=3;if(_t_rule_sel['R_tsumibo']==1){_t_tsumi_mohe=5;_t_tsumi_rong=15;}if(_t_rule_sel['R_tsumibo']==2){_t_tsumi_mohe=5;_t_tsumi_rong=5;}_t_mochiten=_t_rule_sel['R_mochiten'];_t_genten=300;_t_rule.unlimited=_t_rule_sel['R_aotenjyo'] || 0;_t_rule.noFu=_t_rule_sel['R_funashi'] || 0;if(_t_gamemode!=_T_GAMEMODE_EASTERN_BOO && _t_gamemode!=_T_GAMEMODE_PENGLI){if(_t_rule_sel['R_yakitori'] && _t_rule_sel['R_chip_yakibuta']) _t_rule.chip.any=_t_rule.chip.yakibuta=30;if(_t_rule_sel['R_chip_gang']) _t_rule.chip.any=_t_rule.chip.gang=1;if(_t_rule_sel['R_ippatsu'] && _t_rule_sel['R_chip_ippatsu']) _t_rule.chip.any=_t_rule.chip.ippatsu=1;if(_t_rule_sel['R_uradora'] && _t_rule_sel['R_chip_uradora']) _t_rule.chip.any=_t_rule.chip.uradora=1;if((_t_rule_sel['R_akarule1'] || _t_rule_sel['R_huapai']) && _t_rule_sel['R_chip_aka_hana']) _t_rule.chip.any=_t_rule.chip.akapai=_t_rule.chip.hanapai=1;if(_t_rule_sel['R_chip_yakuman']) _t_rule.chip.any=_t_rule.chip.yakuman=1;}else {_t_rule.zhuangfeng=_t_rule_sel['EBoo_zhuangfeng'] || 0;if(!_t_rule.zhuangfeng) _t_rule.basu=1;_t_rule.ippatsu=_t_rule_sel['EBoo_ippatsu'] || 0;_t_rule.open_reach=0;_t_rule.furiten_reach=0;if(!_t_rule_sel['EBoo_akarule1']){_t_rule.akapai=2;}else if(_t_rule_sel['EBoo_akarule1']==1){_t_rule.akapai=0;}else {_t_rule.akapai=1;}_t_rule.akapai_deal=_t_rule_sel['EBoo_akarule2'] || 0;_t_rule.hana=0;_t_rule.kuitan_sakizuke=_t_rule_sel['EBoo_kuitan_sakiduke'] || 0;_t_rule.liangfan_shibari=1;_t_rule.gangdora=(_t_rule_sel['EBoo_next_dora'] || 0)+1;_t_rule.uradora=0;_t_rule.shengpaibao=0;_t_rule.kuinaoshi=_t_rule_sel['EBoo_kuinaoshi'];_t_rule.angang_guoshi=_t_rule_sel['EBoo_angang_guoshi'] || 0;_t_rule.furiten_guoshi=_t_rule_sel['EBoo_furiten_guoshi'] || 0;_t_rule.kiriage_manguan=_t_rule_sel['EBoo_kiriageManguan'] || 0;_t_tsumi_mohe=1;_t_tsumi_rong=3;_t_rule.yaku.gang_buri=_t_rule_sel['EBoo_gang_buri'] || 0;_t_rule.yaku.yisesanshun=(_t_rule_sel['EBoo_yise34shun']>0) ? 2 : 0;_t_rule.yaku.yisesishun=(_t_rule_sel['EBoo_yise34shun']>4) ? 256 : 0;_t_rule.yaku.sanlianke=(_t_rule_sel['EBoo_34lianke']>0) ? 2 : 0;_t_rule.yaku.silianke=(_t_rule_sel['EBoo_34lianke']>4) ? 256 : 0;_t_rule.yaku.sujipaike=(_t_rule_sel['EBoo_sujipaike']>0) ? 2 : 0;_t_rule.yaku.shuanglongzhengzhu=_t_rule_sel['EBoo_xianglongxiangju'] || 0;_t_rule.yaku.wumenqi=_t_rule_sel['EBoo_wumenzhi'] || 0;_t_rule.yaku.yitongmoyue=_t_rule_sel['EBoo_yitonmoyue'] || 0;_t_rule.yaku.fenghuaxueyue=_t_rule_sel['EBoo_fengxueyuehua'] || 0;_t_rule.yaku.benikujaku=_t_rule_sel['EBoo_benikujaku'] || 0;_t_rule.yaku.wanlusouzhoungyidianhong=_t_rule_sel['EBoo_wanlusouzhongyidianhong'] || 0;_t_rule.yaku.balianzhuang=_t_rule_sel['EBoo_balianzhuang'] || 0;_t_rule.yaku.renhe=128;_t_rule.yaku.daisharin=_t_rule_sel['EBoo_daisharin'] || 0;_t_rule.yaku.hyakumangoku=_t_rule_sel['EBoo_hyakumangoku'] || 0;_t_rule.yaku.shisanbuta=_t_rule_sel['EBoo_shisanbuta'] || 0;_t_rule.yaku.yaojiu_furikiri=_t_rule_sel['EBoo_yaojiu_furikiri'] || 0;_t_rule.yaku.sanfengzi=0;_t_rule.yaku.xiaotongke=0;_t_rule.yaku.sansetongguang=0;if(_t_rule_sel['EBoo_tsumibo']==1){_t_tsumi_mohe=5;_t_tsumi_rong=15;}if(_t_rule_sel['EBoo_tsumibo']==2){_t_tsumi_mohe=5;_t_tsumi_rong=5;}_t_rule.liangjiahe=0;_t_rule.sifengzilianda=0;_t_rule.sijia_reach=0;_t_rule.sigangsuanle=0;_t_rule.sanjiahe_pingju=0;_t_rule.pingju_lunzhuang1=1;_t_rule.huangpai_lunzhuang=3;_t_rule.pingju_lunzhuang2=0;_t_rule.agariyame=0;_t_rule.knockOut=1;_t_rule.mo8pinghe=1;_t_rule.qiudizi=2;_t_rule.notem_bappu=0;_t_rule.wareme=0;_t_rule.yakitori=0;_t_mochiten=80;_t_genten=80;_t_rule.bao=0;_t_rule.unlimited=0;}_t_rule.qiduizi_fu=30;if(_t_rule.qiudizi==1) _t_rule.qiduizi_fu=50;if(_t_rule.qiudizi==2) _t_rule.qiduizi_fu=25;_t_ePoint=-1;if(_t_gamemode==_T_GAMEMODE_PENGLI){_t_mochiten=_t_genten=0;_t_rule.kuitan_sakizuke=0;_t_rule.zhuangfeng=0;_t_rule.liangfan_shibari=0;_t_rule.akapai=0;_t_rule.akapai_deal=0;_t_rule.liangfan_shibari=0;_t_rule.gangdora=0;_t_rule.uradora=0;_t_rule.ippatsu=_t_rule_sel['PL_ippatsu'] || 0;_t_rule.open_reach=_t_rule_sel['PL_open_reach'] || 0;_t_rule.furiten_reach=_t_rule_sel['PL_furiten_reach'] || 0;_t_rule.hana=0;_t_rule.shengpaibao=0;_t_rule.kuinaoshi=0;_t_rule.liangjiahe=_t_rule_sel['PL_liangjiahe'] || 0;_t_rule.sifengzilianda=0;_t_rule.sijia_reach=0;_t_rule.sigangsuanle=0;_t_rule.sanjiahe_pingju=0;_t_rule.pingju_lunzhuang1=0;_t_rule.huangpai_lunzhuang=0;_t_rule.pingju_lunzhuang2=0;_t_rule.agariyame=0;_t_rule.knockOut=0;_t_rule.mo8pinghe=0;_t_rule.qiudizi=0;_t_rule.notem_bappu=0;_t_rule.wareme=0;_t_rule.yakitori=0;_t_rule.yaku.menqianqing=1;_t_rule.yaku.gang_buri=_t_rule_sel['PL_gang_buri'] || 0;_t_rule.yaku.yisesanshun=(_t_rule_sel['PL_yise34shun']>0) ? 2 : 0;_t_rule.yaku.yisesishun=(_t_rule_sel['PL_yise34shun']>4) ? 256 : 0;_t_rule.yaku.sanlianke=(_t_rule_sel['PL_34lianke']>0) ? 2 : 0;_t_rule.yaku.silianke=(_t_rule_sel['PL_34lianke']>4) ? 256 : 0;_t_rule.yaku.sujipaike=(_t_rule_sel['PL_sujipaike']>0) ? 2 : 0;_t_rule.yaku.shuanglongzhengzhu=_t_rule_sel['PL_xianglongxiangju'] || 0;_t_rule.yaku.wumenqi=0;_t_rule.yaku.yitongmoyue=_t_rule_sel['PL_yitonmoyue'] || 0;_t_rule.yaku.fenghuaxueyue=0;_t_rule.yaku.benikujaku=0;_t_rule.yaku.wanlusouzhoungyidianhong=0;_t_rule.yaku.balianzhuang=_t_rule_sel['PL_balianzhuang'] || 0;_t_rule.yaku.renhe=256;_t_rule.yaku.daisharin=_t_rule_sel['PL_daisharin'] || 0;_t_rule.yaku.hyakumangoku=_t_rule_sel['PL_hyakumangoku'] || 0;_t_rule.yaku.shisanbuta=0;_t_rule.yaku.yaojiu_furikiri=0;_t_rule.menqianqing=0;_t_reach_fee=0;_t_tsumi_mohe=0;_t_tsumi_rong=0;_t_rule.wareme=0;_t_rule.yakitori=0;_t_rule.unlimited=0;_t_rule.noFu=0;_t_rule.kyokusu=9;_t_rule.basu=0;}}if(_t_gamemode==_T_GAMEMODE_BEINUKI){_t_rule.yaku.sanfengzi=0;_t_rule.yaku.xiaotongke=0;_t_rule.yaku.sansetongguang=0;_t_rule.kuitan_sakizuke=0;_t_rule.zhuangfeng=0;_t_rule.liangfan_shibari=0;_t_rule.gangdora=1;_t_rule.uradora=(_t_rule_sel['BN_uradora']) ? 2 : 1;_t_rule.ippatsu=0;_t_rule.open_reach=0;_t_rule.furiten_reach=1;_t_rule.akapai=_t_rule_sel['BN_akarule'] || 0;_t_rule.akapai_deal=1;_t_rule.hana=0;_t_rule.kuinaoshi=0;_t_rule.shengpaibao=0;_t_rule.liangjiahe=_t_rule_sel['BN_liangjiahe'] || 0;_t_rule.sifengzilianda=0;_t_rule.sijia_reach=0;_t_rule.sigangsuanle=_t_rule_sel['BN_sigangsuanle'] || 0;_t_rule.sanjiahe_pingju=0;_t_rule.pingju_lunzhuang1=0;_t_rule.huangpai_lunzhuang=0;_t_rule.pingju_lunzhuang2=0;_t_rule.agariyame=_t_rule_sel['BN_agariyame'] || 0;_t_rule.knockOut=_t_rule_sel['BN_knockout'] || 0;_t_rule.fulou_pinghe=0;_t_rule.mo8pinghe=0;_t_rule.qiudizi=0;_t_rule.angang_guoshi=_t_rule_sel['BN_angang_guoshi'] || 0;_t_rule.furiten_guoshi=_t_rule_sel['BN_furiten_guoshi'] || 0;_t_rule.notem_bappu=_t_rule_sel['BN_notem_batten'] || 0;_t_rule.wareme=_t_rule_sel['BN_wareme'] || 0;_t_rule.yakitori=_t_rule_sel['BN_yakitori'] || 0;_t_rule.kiriage_manguan=0;_t_rule.yaku.menqianqing=1;_t_rule.yaku.gang_buri=0;_t_rule.yaku.yisesanshun=0;_t_rule.yaku.yisesishun=(_t_rule_sel['BN_yise4shun']>0) ? 12 : 0;_t_rule.yaku.sanlianke=0;_t_rule.yaku.silianke=(_t_rule_sel['BN_4lianke']>128) ? 12 : 0;_t_rule.yaku.sujipaike=0;_t_rule.yaku.shuanglongzhengzhu=0;_t_rule.yaku.wumenqi=0;_t_rule.yaku.yitongmoyue=0;_t_rule.yaku.fenghuaxueyue=0;_t_rule.yaku.benikujaku=(_t_rule_sel['BN_benikujaku']) ? 12 : 0;_t_rule.yaku.wanlusouzhoungyidianhong=(_t_rule_sel['BN_wanlusouzhongyidianhong']>0) ? 12 : 0;_t_rule.yaku.balianzhuang=(_t_rule_sel['BN_balianzhuang']>0) ? 12 : 0;_t_rule.yaku.renhe=0;_t_rule.yaku.daisharin=(_t_rule_sel['BN_daisharin']>0) ? 12 : 0;_t_rule.yaku.sujipaike=0;_t_rule.yaku.shisanbuta=(_t_rule_sel['BN_shisanbuta']>0) ? 12 : 0;_t_rule.yaku.yaojiu_furikiri=0;_t_nukidora[0]=0x34; _t_nukidora[1]=_t_nukidora[2]=_t_nukidora[3]=-1;_t_rule.lingshang_dora=2;_t_reach_fee=0;_t_tsumi_mohe=1;_t_tsumi_rong=1;_t_mochiten=30;_t_genten=50;_t_rule.qiduizi_fu=30;_t_ePoint=-1;_t_rule.kyokusu=9;_t_rule.basu=0;_t_rule.chip.hanapai=0;if(_t_rule_sel['BN_yakitori'] && _t_rule_sel['BN_chip_yakibuta']) _t_rule.chip.any=_t_rule.chip.yakibuta=30;if(_t_rule_sel['BN_chip_gang']) _t_rule.chip.any=_t_rule.chip.gang=1;if(_t_rule_sel['BN_chip_ippatsu']) _t_rule.chip.any=_t_rule.chip.ippatsu=1;if(_t_rule_sel['BN_chip_uradora']) _t_rule.chip.any=_t_rule.chip.uradora=1;if(_t_rule_sel['BN_akarule'] && _t_rule_sel['BN_chip_aka']) _t_rule.chip.any=_t_rule.chip.akapai=1;}if(_t_gamemode==_T_GAMEMODE_CHIP_MAHJONG){_t_rule.yaku.sanfengzi=0;_t_rule.yaku.xiaotongke=0;_t_rule.yaku.sansetongguang=0;_t_rule.kuitan_sakizuke=_t_rule_sel['M3_kuitan_sakiduke'] || 0;_t_rule.zhuangfeng=0;_t_rule.liangfan_shibari=_t_rule_sel['M3_liangfan_shibari'] || 0;_t_rule.gangdora=(_t_rule_sel['M3_next_dora'] || 0)+1;_t_rule.uradora=_t_rule_sel['M3_uradora'] || 0;_t_rule.ippatsu=_t_rule_sel['M3_ippatsu'] || 0;_t_rule.open_reach=_t_rule_sel['M3_open_reach'] || 0;_t_rule.furiten_reach=_t_rule_sel['M3_furiten_reach'] || 0;_t_rule.akapai=_t_rule_sel['M3_akarule1'] || 0;_t_rule.akapai_deal=_t_rule_sel['M3_akarule2'] || 0;_t_rule.hana=0;_t_rule.kuinaoshi=_t_rule_sel['M3_kuinaoshi'] || 0;_t_rule.shengpaibao=0;_t_rule.liangjiahe=_t_rule_sel['M3_liangjiahe'] || 0;_t_rule.sifengzilianda=0;_t_rule.sijia_reach=0;_t_rule.sigangsuanle=_t_rule_sel['M3_sigangsuanle'] || 0;_t_rule.sanjiahe_pingju=0;_t_rule.pingju_lunzhuang1=0;_t_rule.huangpai_lunzhuang=0;_t_rule.pingju_lunzhuang2=0;_t_rule.agariyame=_t_rule_sel['M3_agariyame'] || 0;_t_rule.knockOut=_t_rule_sel['M3_knockout'] || 0;_t_rule.fulou_pinghe=0;_t_rule.mo8pinghe=1;_t_rule.qiudizi=0;_t_rule.angang_guoshi=_t_rule_sel['M3_angang_guoshi'] || 0;_t_rule.furiten_guoshi=_t_rule_sel['M3_furiten_guoshi'] || 0;_t_rule.notem_bappu=_t_rule_sel['M3_notem_batten'] || 0;_t_rule.wareme=_t_rule_sel['M3_wareme'] || 0;_t_rule.yakitori=_t_rule_sel['M3_yakitori'] || 0;_t_rule.kiriage_manguan=0;_t_rule.yaku.menqianqing=_t_rule_sel['M3_menqianqing'] || 0;_t_rule.yaku.gang_buri=_t_rule_sel['M3_gang_buri'] || 0;_t_rule.yaku.yisesanshun=(_t_rule_sel['M3_yise34shun']>0) ? 2 : 0;_t_rule.yaku.yisesishun=(_t_rule_sel['M3_yise34shun']>4) ? 256 : 0;_t_rule.yaku.sanlianke=(_t_rule_sel['M3_34lianke']>0) ? 2 : 0;_t_rule.yaku.silianke=(_t_rule_sel['M3_34lianke']>4) ? 256 : 0;_t_rule.yaku.sujipaike=0;_t_rule.yaku.shuanglongzhengzhu=0;_t_rule.yaku.wumenqi=0;_t_rule.yaku.yitongmoyue=_t_rule_sel['M3_yitonmoyue'] || 0;_t_rule.yaku.fenghuaxueyue=_t_rule_sel['M3_fengxueyuehua'] || 0;_t_rule.yaku.benikujaku=_t_rule_sel['M3_benikujaku'] || 0;_t_rule.yaku.wanlusouzhoungyidianhong=_t_rule_sel['M3_wanlusouzhongyidianhong'] || 0;_t_rule.yaku.balianzhuang=_t_rule_sel['M3_balianzhuang'] || 0;_t_rule.yaku.renhe=128;_t_rule.yaku.daisharin=_t_rule_sel['M3_daisharin'] || 0;_t_rule.yaku.hyakumangoku=0;_t_rule.yaku.shisanbuta=_t_rule_sel['M3_shisanbuta'] || 0;_t_rule.yaku.yaojiu_furikiri=_t_rule_sel['M3_yaojiu_furikiri'] || 0;_t_rule.menqianqing=_t_rule_sel['M3_menqianqing'] || 0;_t_nukidora[0]=0x34; _t_nukidora[1]=_t_nukidora[2]=_t_nukidora[3]=-1;if(_t_rule_sel['M3_nukidora']!=1){_t_nukidora[1]=0x21; _t_nukidora[2]=0x29;if(_t_rule_sel['M3_nukidora']==2) _t_nukidora[3]=0x25;}_t_rule.lingshang_dora=_t_rule_sel['M3_mekuridora'] || 0;_t_reach_fee=0;_t_tsumi_mohe=1;_t_tsumi_rong=1;_t_mochiten=30;_t_genten=50;_t_rule.qiduizi_fu=30;_t_ePoint=-1;_t_rule.kyokusu=9;_t_rule.basu=0;_t_rule.chip.hanapai=0;if(_t_rule_sel['M3_yakitori'] && _t_rule_sel['M3_chip_yakibuta']) _t_rule.chip.any=_t_rule.chip.yakibuta=30;if(_t_rule_sel['M3_chip_gang']) _t_rule.chip.any=_t_rule.chip.gang=1;if(_t_rule_sel['M3_chip_ippatsu']) _t_rule.chip.any=_t_rule.chip.ippatsu=1;if(_t_rule_sel['M3_uradora'] && _t_rule_sel['M3_chip_uradora']) _t_rule.chip.any=_t_rule.chip.uradora=1;if(_t_rule_sel['M3_akarule1'] && _t_rule_sel['M3_chip_aka']) _t_rule.chip.any=_t_rule.chip.akapai=1;if(_t_rule_sel['M3_chip_yakuman']) _t_rule.chip.any=_t_rule.chip.yakuman=1;}if(_t_gamemode==_T_GAMEMODE_BOO || _t_gamemode==_T_GAMEMODE_ARSHIAR){_t_rule.yaku.sanfengzi=0;_t_rule.yaku.xiaotongke=0;_t_rule.yaku.sansetongguang=0;_t_rule.yaku.sanshoku=0;_t_rule.kuitan_sakizuke=0;_t_rule.zhuangfeng=0;_t_rule.liangfan_shibari=1;_t_rule.gangdora=0;_t_rule.uradora=0;_t_rule.ippatsu=0;_t_rule.open_reach=0;_t_rule.furiten_reach=1;_t_rule.akapai=0;_t_rule.akapai_deal=1;_t_rule.hana=0;_t_rule.kuinaoshi=0;_t_rule.shengpaibao=0;_t_rule.minogashiNG=0;_t_rule.liangjiahe=0;_t_rule.sifengzilianda=0;_t_rule.sijia_reach=0;_t_rule.sigangsuanle=0;_t_rule.sanjiahe_pingju=0;_t_rule.pingju_lunzhuang1=1;_t_rule.huangpai_lunzhuang=3;_t_rule.pingju_lunzhuang2=0;_t_rule.agariyame=0;_t_rule.knockOut=(_t_gamemode==_T_GAMEMODE_BOO) ? 1 : 0;_t_rule.fulou_pinghe=1;_t_rule.mo8pinghe=0;_t_rule.qiudizi=0;_t_rule.angang_guoshi=0;_t_rule.furiten_guoshi=1;_t_rule.notem_bappu=0;_t_rule.kiriage_manguan=0;_t_rule.yaku.menqianqing=0;_t_rule.yaku.gang_buri=0;_t_rule.yaku.yisesanshun=0;_t_rule.yaku.yisesishun=0;_t_rule.yaku.sanlianke=0;_t_rule.yaku.silianke=0;_t_rule.yaku.sujipaike=0;_t_rule.yaku.shuanglongzhengzhu=0;_t_rule.yaku.wumenqi=0;_t_rule.yaku.yitongmoyue=0;_t_rule.yaku.fenghuaxueyue=0;_t_rule.yaku.benikujaku=0;_t_rule.yaku.wanlusouzhoungyidianhong=0;_t_rule.yaku.balianzhuang=0;_t_rule.yaku.renhe=0;_t_rule.yaku.daisharin=0;_t_rule.yaku.hyakumangoku=0;_t_rule.yaku.shisanbuta=0;_t_rule.yaku.yaojiu_furikiri=0;_t_rule.menqianqing=0;_t_nukidora[0]=_t_nukidora[1]=_t_nukidora[2]=_t_nukidora[3]=-1;_t_rule.lingshang_dora=0;_t_reach_fee=0;_t_tsumi_mohe=0;_t_tsumi_rong=0;if(_t_gamemode==_T_GAMEMODE_BOO){_t_tsumi_mohe=10;_t_tsumi_rong=10;_t_rule.bm_yakuman=_t_rule_sel['BOO_yakumanHele'] || 0;_t_rule.bm_menqian=_t_rule_sel['BOO_menqian'] || 0;_t_rule.bm_yakunashi_dora=_t_rule_sel['BOO_yakunashiDora'] || 0;_t_rule.akapai=2;if(_t_rule_sel['BOO_aka5']==1) _t_rule.akapai=1;if(_t_rule_sel['BOO_aka5']==2) _t_rule.akapai=6;_t_rule.yaku.sanshoku=_t_rule_sel['BOO_sanshoku'] || 0;_t_rule.yaku.yisesanshun=_t_rule_sel['BOO_sanshun'] || 0;_t_rule.yaku.quandaiyao=_t_rule_sel['BOO_quandaiyao'] || 0;_t_rule.minogashiNG=_t_rule_sel['BOO_minogashiNG'] || 0;}else {_t_rule.basu=_t_rule_sel['ARSHIAR_gamehand'] ? 4 : 2;_t_rule.mo8pinghe=_t_rule_sel['ARSHIAR_mo8pinghe'] || 0;_t_rule.qiduizi=_t_rule_sel['ARSHIAR_qiduizi'] || 0;_t_rule.yaku.sanshoku=_t_rule_sel['ARSHIAR_sanshoku'] || 0;_t_rule.yaku.yisesanshun=_t_rule_sel['ARSHIAR_sanshun'] || 0;_t_rule.yaku.quandaiyao=1;}_t_mochiten=200;_t_genten=200;_t_rule.qiduizi_fu=30;_t_ePoint=-1;}if(_t_gamemode==_T_GAMEMODE_TAIWAN){_t_rule.yaku.sanfengzi=0;_t_rule.yaku.xiaotongke=0;_t_rule.yaku.sansetongguang=0;_t_rule.kuitan_sakizuke=2;_t_rule.zhuangfeng=0;_t_rule.liangfan_shibari=1;_t_rule.gangdora=0;_t_rule.uradora=0;_t_rule.ippatsu=0;_t_rule.open_reach=0;_t_rule.furiten_reach=1;_t_rule.akapai=0;_t_rule.akapai_deal=1;_t_rule.hana=2;if(_t_rule_sel['taiwan_hanapai']) _t_rule.hana=0;_t_rule.kuinaoshi=2;_t_rule.shengpaibao=0;_t_rule.liangjiahe=0;_t_rule.sifengzilianda=1;_t_rule.sijia_reach=0;_t_rule.sigangsuanle=1;_t_rule.sanjiahe_pingju=0;_t_rule.pingju_lunzhuang1=0;_t_rule.huangpai_lunzhuang=0;_t_rule.pingju_lunzhuang2=0;_t_rule.agariyame=0;_t_rule.knockOut=0;_t_rule.fulou_pinghe=1;_t_rule.mo8pinghe=0;_t_rule.qiudizi=0;_t_rule.angang_guoshi=0;_t_rule.furiten_guoshi=1;_t_rule.notem_bappu=0;_t_rule.kiriage_manguan=0;_t_rule.yaku.menqianqing=0;_t_rule.yaku.gang_buri=0;_t_rule.yaku.yisesanshun=0;_t_rule.yaku.yisesishun=0;_t_rule.yaku.sanlianke=0;_t_rule.yaku.silianke=0;_t_rule.yaku.sujipaike=0;_t_rule.yaku.shuanglongzhengzhu=0;_t_rule.yaku.wumenqi=0;_t_rule.yaku.yitongmoyue=0;_t_rule.yaku.fenghuaxueyue=0;_t_rule.yaku.benikujaku=0;_t_rule.yaku.wanlusouzhoungyidianhong=0;_t_rule.yaku.balianzhuang=0;_t_rule.yaku.renhe=0;_t_rule.yaku.daisharin=0;_t_rule.yaku.hyakumangoku=0;_t_rule.yaku.shisanbuta=0;_t_rule.yaku.yaojiu_furikiri=0;_t_rule.menqianqing=0;_t_nukidora[0]=_t_nukidora[1]=_t_nukidora[2]=_t_nukidora[3]=-1;_t_rule.lingshang_dora=0;_t_reach_fee=0;_t_tsumi_mohe=0;_t_tsumi_rong=0;_t_tsumi_mohe=1;_t_tsumi_rong=1;_t_mochiten=0;_t_genten=0;_t_rule.qiduizi_fu=30;_t_ePoint=-1;_t_rule.qiduizi=0;_t_rule.basu=2;if(_t_rule_sel['taiwan_gamehand']){_t_rule.basu=4;if(_t_rule_sel['taiwan_gamehand']>1) _t_rule.basu=1;}}if(_t_gamemode==_T_GAMEMODE_GUOJI){_t_rule.yaku.sanfengzi=0;_t_rule.yaku.xiaotongke=0;_t_rule.yaku.sansetongguang=0;_t_rule.kuitan_sakizuke=0;_t_rule.zhuangfeng=0;_t_rule.liangfan_shibari=0;_t_rule.gangdora=0;_t_rule.uradora=0;_t_rule.ippatsu=0;_t_rule.open_reach=0;_t_rule.furiten_reach=0;_t_rule.akapai=0;_t_rule.akapai_deal=0;_t_rule.hana=2;if(_t_rule_sel['guoji_hanapai']) _t_rule.hana=0;_t_rule.kuinaoshi=0;_t_rule.shengpaibao=0;_t_rule.liangjiahe=0;_t_rule.sifengzilianda=0;_t_rule.sijia_reach=0;_t_rule.sigangsuanle=0;_t_rule.sanjiahe_pingju=0;_t_rule.pingju_lunzhuang1=0;_t_rule.huangpai_lunzhuang=0;_t_rule.pingju_lunzhuang2=0;_t_rule.agariyame=0;_t_rule.knockOut=0;_t_rule.fulou_pinghe=0;_t_rule.mo8pinghe=0;_t_rule.qiudizi=0;_t_rule.angang_guoshi=0;_t_rule.furiten_guoshi=1;_t_rule.notem_bappu=0;_t_rule.kiriage_manguan=0;_t_rule.yaku.menqianqing=0;_t_rule.yaku.gang_buri=0;_t_rule.yaku.yisesanshun=0;_t_rule.yaku.yisesishun=0;_t_rule.yaku.sanlianke=0;_t_rule.yaku.silianke=0;_t_rule.yaku.sujipaike=0;_t_rule.yaku.shuanglongzhengzhu=0;_t_rule.yaku.wumenqi=0;_t_rule.yaku.yitongmoyue=0;_t_rule.yaku.fenghuaxueyue=0;_t_rule.yaku.benikujaku=0;_t_rule.yaku.wanlusouzhoungyidianhong=0;_t_rule.yaku.balianzhuang=0;_t_rule.yaku.renhe=0;_t_rule.yaku.daisharin=0;_t_rule.yaku.hyakumangoku=0;_t_rule.yaku.shisanbuta=0;_t_rule.yaku.yaojiu_furikiri=0;_t_rule.menqianqing=0;_t_nukidora[0]=_t_nukidora[1]=_t_nukidora[2]=_t_nukidora[3]=-1;_t_rule.lingshang_dora=0;_t_reach_fee=0;_t_tsumi_mohe=0;_t_tsumi_rong=0;_t_tsumi_mohe=0;_t_tsumi_rong=0;_t_mochiten=0;_t_genten=0;_t_rule.qiduizi_fu=30;_t_ePoint=-1;_t_rule.basu=2;if(_t_rule_sel['guoji_gamehand']){_t_rule.basu=4;if(_t_rule_sel['guoji_gamehand']>1) _t_rule.basu=1;}}_t_h5_next=setTimeout('GAME_START_I18N(); ', 10);}function GAME_START_I18N(){_t_pai_color[0]=_t_pai_color[1]='_4';_t_pai2_color[0]=_t_pai2_color[1]='_2';i=_t_rule_sel['UI_paiBack'] || 0;_t_toggle_sprite_disp(1);graph_noSprite=_t_rule_sel['UI_noSprite'] || 0;_t_fulou_dir=_t_rule_sel['UI_fulouPos'];if(!i || i==3 || i==4){_t_pai_color[0]=_t_pai2_color[0]=_t_pai_color[1]=_t_pai2_color[1]='';}if(i==1 || i==5){_t_pai_color[0]=_t_pai2_color[0]='_2';}if(i==1 || i==3){_t_pai_color[1]=_t_pai2_color[1]='_2';}if(i==2 || i==4 || i==5){_t_pai_color[1]=_t_pai2_color[1]='_3';}if(i==2){_t_pai_color[0]=_t_pai2_color[0]='_3';}feng_str=['東', '南', '西', '北'];fullFeng_str=['東', '南', '西', '北'];if(_t_players==2){_t_seat[0]='貴家';_t_seat[3]=_t_seat[2]=_t_seat[1]='対門';}else if(_t_players==3){_t_seat[0]='貴家';_t_seat[1]='下家';_t_seat[3]=_t_seat[2]='上家';}else if(_t_players==4){_t_seat[0]='貴家';_t_seat[1]='下家';_t_seat[2]='対門';_t_seat[3]='上家';}if(_t_lang=='en'){feng_str=['E.', 'S.', 'W.', 'N.'];fullFeng_str=['East', 'South', 'West', 'North'];if(_t_players==2){_t_seat[0]='You';_t_seat[1]='I';}else if(_t_players==3){_t_seat[0]='You';_t_seat[1]='Player on the right';_t_seat[2]='Player on the left';}else if(_t_players==4){_t_seat[0]='You';_t_seat[1]='Player on the right';_t_seat[2]='Player opposite you';_t_seat[3]='Player on the left';}setMenuItem('MENUBAR_RESTART', -7, 6, 'Back to Menu.', 'QUIT_GAME()', 0);}else {setMenuItem('MENUBAR_RESTART', -8, 3.6, '菜単に戻る', 'QUIT_GAME()', 0);}_t_game_ctr=0;_t_max_bipai=0;_t_jijia=_t_zhuangjia=_t_last_helejia=0;_t_player_code=[0, 1, 2, 3];_t_chip_name.hanapai='抜ドラ';i=4; while(--i>=0){_t[i].total_result=0;j=_t[i].result.length; while(--j>=0){_t[i].result[j]=0;}}i=0x80; while(--i>=0) _t_bipai3[i]=0;i=-1; while(++i<4){j=9; if(i==3) j=7;k=i << 4;while(--j>=0){++k;_t_bipai3[k]=4;}}if(_t_players!=3){if(_t_rule.akapai==1 || _t_rule.akapai==5){ _t_bipai3[0x15]=3; _t_bipai3[0x55]=1; }else if(_t_rule.akapai==6){_t_bipai3[0x15]=0; _t_bipai3[0x55]=4;}else if(_t_rule.akapai && _t_rule.akapai!=4){ _t_bipai3[0x15]=2; _t_bipai3[0x55]=2; }if(_t_rule.akapai==3 || _t_rule.akapai==5){_t_bipai3[0x05]=3; _t_bipai3[0x45]=1;_t_bipai3[0x25]=3; _t_bipai3[0x65]=1;}if(_t_rule.akapai==4){_t_bipai3[0x03]=3; _t_bipai3[0x43]=1;_t_bipai3[0x13]=3; _t_bipai3[0x53]=1;_t_bipai3[0x23]=3; _t_bipai3[0x63]=1;}if(_t_rule.hana){_t_chip_name.hanapai='花牌';_t_bipai3[0x38]=_t_bipai3[0x39]=_t_bipai3[0x3A]=_t_bipai3[0x3B]=1;if(_t_rule.hana>1){_t_bipai3[0x38]=_t_bipai3[0x39]=_t_bipai3[0x3A]=_t_bipai3[0x3B]=_t_bipai3[0x3C]=_t_bipai3[0x3D]=_t_bipai3[0x3E]=_t_bipai3[0x3F]=1;}}}if(_t_players==3){if(_t_gamemode==_T_GAMEMODE_PENGLI){i=0x30; while(++i<0x38) _t_bipai3[i]=0;}else {i=0x21; while(++i<0x29) _t_bipai3[i]=0;i=0x40; while(++i<0x7f) _t_bipai3[i]=0;if(_t_nukidora[3]>-1) _t_bipai3[_t_nukidora[3]]=4;switch(_t_rule.akapai){case 1: _t_bipai3[0x15]=3; _t_bipai3[0x55]=1; break;case 3: _t_bipai3[0x05]=3; _t_bipai3[0x45]=1;case 2: _t_bipai3[0x15]=2; _t_bipai3[0x55]=2; break;case 6: _t_bipai3[0x05]=0; _t_bipai3[0x45]=4;case 5: _t_bipai3[0x15]=0; _t_bipai3[0x55]=4; break;case 4: _t_bipai3[0x13]=3; _t_bipai3[0x53]=1;        _t_bipai3[0x03]=3; _t_bipai3[0x43]=1;}}}_t_max_bipai=0; j=0x66;while(--j>0){k=_t_bipai3[j];while(--k>=0){_t_used_pais[_t_max_bipai]=j;_t_max_bipai++;}}i=16;while(--i>=0){j=_t_max_bipai;while(--j>=0){k=Math.floor(Math.random()*_t_max_bipai);m=_t_used_pais[k]; _t_used_pais[k]=_t_used_pais[j]; _t_used_pais[j]=m ^ 0x80;}}_t_h5_next=setTimeout('BANZHUANG(); ', 10);}function BANZHUANG(){_t_jushou_ctr=0;_t_bajushou_ctr=0;_t_ba_ctr=0;_t_zhuangfeng[0]=0x31;_t_zhuangfeng[1]=-1;_t_tsumibo_ctr=0;_t_reach_bo_ctr=0;_t_current_shizumi_ctr=0;_t_banzhuang_started=0;i=_t_players; while(--i>=0){_t[i].score=_t_mochiten;}_t_init_balance();i=_t_players; while(--i>=0){_t[i].score=_t_mochiten;_t[i].current_result=_t[i].result_after_balance;_t[i].current_rank=_t[i].rank_after_balance;_t[i].liangzhuang_ctr=-1;_t[i].menfeng=-1;_t[i].yakitori_flag=_t_rule.yakitori;_t[i].chip=0;_t[i].chip_balance=0;}_t_current_top=_t_top_jia;_t_current_shizumi_ctr=_t_shizumi_ctr;_t_sjia=Math.floor(Math.random()*(_t_players-1))+1;_t[_t_last_helejia].menfeng=0;_t_cFlag=0;_t_impflag=0;_t_jitsukyokusu_ctr=0;_t_noMakeWin=0;_t_h5_next=setTimeout('YIJU(); ', 10);}function YIJU(){_t_open_mode=_t_openmode;_t_h5_bipai2cpuOffset=0;var i=0x80;var j=0;var k=0;var l=0;var m=0;var n=0;var o=0;var d=0;_t_takingCare=0;i=_t_players; j=-0xffff; k=0;while(--i>-1){l=_t[i].score;if(l==j){k=8; continue;}if(l>j){k=i; j=l;}}if((k<1 && _t_CPULevel>0) || (_t_genten>0 && _t[0].score>_t_genten)){_t_noMakeWin=1;}_t_mopai_ptr=0;i=_t_max_bipai; while(--i>=0) _t_bipai[i]=_t_used_pais[i];i=4; while(--i>=0){j=16; while(--j>=0) _t_haipai_dat[i][j]=0;}j=512; while(--j>=0){k=Math.floor(Math.random()*_t_max_bipai);do { l=Math.floor(Math.random()*_t_max_bipai); } while(k==l);m=_t_bipai[k]; _t_bipai[k]=_t_bipai[l]; _t_bipai[l]=m ^ 0x80;}l=_t_max_bipai; while(--l>=0){k=Math.floor(Math.random()*_t_max_bipai);m=_t_bipai[k]; _t_bipai[k]=_t_bipai[l]; _t_bipai[l]=m ^ 0x80;}l=12; if(_t_gamemode==_T_GAMEMODE_TAIWAN) l=16;i=_t_players; while(--i>=0){k=l; while(--k>=0){_t_haipai_dat[i][k]=_t_bipai[_t_mopai_ptr++];}}_t_h5_next=setTimeout('YIJU_2(); ', 10);}function YIJU_2(){_t_ox=-1;_t_oy=-1;var i=0x80;var j=0;var k=0;var l=0;var m=0;var n=0, d=0;var max_bipai=_t_max_bipai;_t_h5_reachbet=_t_reach_bo_ctr;_t_ronghe_flag=0;_t_started_flag=0;_t_yixun_flag=0;_t_lingshang_flag=0;_t_cannot_dapai_pai1=0;_t_cannot_dapai_pai2=0;_t_pengchi_flag=0;_t_reach_declare_flag=0;_t_gang_ctr=0;_t_shibari=1; if(_t_tsumibo_ctr>4 && !_t_rule.liangfan_shibari) _t_shibari=2;if(!_t_reach_mahjong_rule || _t_gamemode==_T_GAMEMODE_PENGLI) _t_shibari=0;_t_yaojiu_furikiri=-1;_t_dajia=-1;_t_diyi_dapai=0; if((!_t_rule.sifengzilianda) && _t_gamemode!=_T_GAMEMODE_TAIWAN) _t_diyi_dapai=-1;_t_reach_jia_ctr=0;_t_sigangzi_babao=-1;_t_helejia=-1;_t_helejia_ctr=0;_t_uradora_disp_ctr=0;_t_dora_disp_ctr=0;_t_dora_ctr=0;_t_lingshang_dora_ctr=0;_t_uradora_ctr=0;_t_lingshang_dora=[0,0,0];_t_dora=[0,0,0,0,0];_t_uradora=[0,0,0,0,0];_t_dapai_flag=1;_tm_minggang_flag=0;_t_akukan=0;_t_zhuangfeng[0]=0x31+(_t_ba_ctr & 3); _t_zhuangfeng[1]=-1;if(_t_reach_mahjong_rule){if(_t_gamemode==_T_GAMEMODE_CHIP_MAHJONG) _t_zhuangfeng[0]=0x31;else if(_t_rule.zhuangfeng==2 && (_t_ba_ctr & 1)) _t_zhuangfeng[0]=0x34;else if(_t_rule.zhuangfeng==3 && (_t_ba_ctr & 1)) _t_zhuangfeng[0]=0x31;else if(_t_rule.zhuangfeng==4){_t_zhuangfeng[0]=0x31+((_t_ba_ctr & 1) << 1);_t_zhuangfeng[1]=0x32+((_t_ba_ctr & 1) << 1);}else if(_t_rule.zhuangfeng<0){_t_zhuangfeng[0]=0x31;}}_t_final=0;if(_t_rule.kyokusu>0){if(_t_jushou_ctr+1>=_t_rule.kyokusu) _t_final=1;}else if(_t_ba_ctr>3 || (_t_ba_ctr>_t_rule.basu-2 && _t_bajushou_ctr==_t_players-1)) _t_final=1;i=0x80; while(--i>=0) _t_bipai2[i]=0;i=0x40; while(--i>=0) _t_zampai_table4all[i]=0;i=_t_max_bipai; while(--i>=0){ _t_bipai2[_t_used_pais[i] & 0x7f]++; _t_zampai_table4all[_t_used_pais[i] & 0x3f]++; }i=_t_zhuangjia; var mf=0x31;do {_t[i].open=0;j=-1; while(++j<20) _t[i].shupai[j]=_t[i].haipai_buff[j]=0;j=-1; while(++j<16) _t[i].helepai[j]=0;j=-1; while(++j<48){ _t[i].fusipai2[j]=0; }j=-1; while(++j<10){ _t[i].fu[j]=-1; }j=-1; while(++j<6){ _t[i].fulou_fu[j]=_t[i].fulou_jiagang[j]=0; _t[i].fulou_dajia[j]=-1; }j=-1; while(++j<0x40) _t[i].toripai[j]=_t[i].fusipai[j]=0;j=-1; while(++j<25) _t[i].fuloupai[j]=0;_t[i].fulou_ctr=0;_t[i].fulou_gang_ctr=0;_t[i].fulou_fu_total=0;_t[i].reach_flag=0;_t[i].double_reach_flag=0;_t[i].open_reach_flag=0;_t[i].reach_ippatsu_flag=0;_t[i].furiten_flag=0;_t[i].reach_minogashi_flag=0;_t[i].fulou_ctr=0;_t[i].menqian_flag=0;if(_t_banzhuang_started) _t[i].menfeng=mf++;_t[i].fusipai_ctr=0;_t[i].helepai_ctr=0;_t[i].furiten_flag=0;_t[i].dapai4display_ctr=0;_t[i].nukidora_ctr=0;j=-1; while(++j<_t[i].nukidora.length) _t[i].nukidora[i]=0;_t[i].yaojiu_furikiri_flag=0; if(!_t_rule.yaku.yaojiu_furikiri) _t[i].yaojiu_furikiri_flag=-1;_t[i].hele_flag=0;j=32; while(--j>=0) _t_bipai4disp[i][j]=0;_t[i].tsumogiri_ctr=0;j=-1; while(++j<=0x80){_t[i].zampai_table[j]=_t_bipai2[j];}_t[i].balance_point=_t[i].balance_tsumi=_t[i].balance_kyoyaku=_t[i].balance_total=0;_t[i].score_after_balance=_t[i].score;if(_t_gamemode==_T_GAMEMODE_TAIWAN){j=0x40; while(--j>=0) _tm_guoshui_flags[i][j]=0;}_t[i].mopai_ctr=0;_gm_zehelong_flag[i]=0;_gm_wufanhe_flag[i]=0;_t[i].tingpai_dori=0;_t[i].neraiyaku=0;_t[i].rm_2naki=0;if(++i>=_t_players) i=0;} while(i!=_t_zhuangjia);i=_t_players; n=0;while(--i>=0){j=32; while(--j>=0) _t_bipai4disp[i][j]=0;j=24;if(_t_players==3){j=26;if(_t_nukidora[3]>-1 && i) j=28;}if(_t_players==4 && _t_rule.hana && (i & 1)) j=26;if(_t_players==2) j=28;if(_t_gamemode==_T_GAMEMODE_TAIWAN){j=22;if(!_t_rule.hana) j-=2;}if(_t_gamemode==_T_GAMEMODE_GUOJI){j=24+_t_rule.hana;}while(--j>1) _t_bipai4disp[i][j]=-1;}_t_zampai_ctr=69;if(_t_rule.hana) _t_zampai_ctr=73;if(_t_gamemode==_T_GAMEMODE_PENGLI) _t_zampai_ctr=68;else if(_t_gamemode==_T_GAMEMODE_GUOJI){_t_zampai_ctr=83+(_t_rule.hana << 2);}else if(_t_gamemode==_T_GAMEMODE_TAIWAN){_t_zampai_ctr=55+(_t_rule.hana << 2);}else if(_t_players==2) _t_zampai_ctr=39;else if(_t_players==3){_t_zampai_ctr=108-14-13-13;if(_t_nukidora[2]>0){_t_zampai_ctr-=18;if(_t_rule.lingshang_dora) _t_zampai_ctr-=2;}else _t_zampai_ctr-=14;}_t_0upBipaiOffset=0;_t_3cpBipaiOffset=0;_t_3cpBipaiOffset=0;i=_t_players; while(--i>=0){k=0;j=13; while(--j>0){_t[i].shupai[j]=_t_haipai_dat[i][k++];_t[i].zampai_table[_t[i].shupai[j] & 0x7f]--;}if(_t_gamemode==_T_GAMEMODE_TAIWAN){_t[i].shupai[13]=_t_haipai_dat[i][k++];_t[i].zampai_table[_t[i].shupai[13] & 0x7f]--;j=3; while(--j>=0){_t[i].shupai[19-j]=_t_haipai_dat[i][k++];_t[i].zampai_table[_t[i].shupai[19-j] & 0x7f]--;}}}_t_game_status='';_gm_lipai_mode=-1;if(_t[0].current_rank<2 && _t_impflag) _t_ffflag=1;_t_mpmd=-1;f9980();_t_h5_next=setTimeout('START_C(); ', 10);}function START_C(){_t_h5_dice=[0, 0, 0];_t_playfield();_t_bipai_disp();_t_haipai_flag=1;i=_t_players;while(--i>=0){_t_shupai_disp(i);_t_score_disp(i, '#fff');}if(_t_banzhuang_started){_t_h5_next=setTimeout('HAIPAI(); ', 10);return;}_t_banzhuang_started=1;str='起家を決めます。';if(_t_lang=='en'){str='First starting player is now being determined.';}_t_status_disp(str);var i=2; if(_t_gamemode==_T_GAMEMODE_TAIWAN) i++;_t_throw_dice(_t_last_helejia, i);_t_h5_next=setTimeout('WAIT_MOVIE("JIJIA_3"); ', 10);}function JIJIA_3(){var j;if(_t_players==2) j=(_t_last_helejia+_t_dice[0]+_t_dice[1]-1) & 1;else if(_t_players==3) j=(_t_last_helejia+_t_dice[0]+_t_dice[1]-1) % 3;else if(_t_players==4){j=_t_last_helejia+_t_dice[0]+_t_dice[1];if(_t_gamemode==_T_GAMEMODE_TAIWAN) j+=_t_dice[2];j=(j-1) & 3;}_t_zhuangjia=_t_jijia=j;i=0x30; l=0; k=_t_players; while(--k>=0){_t[j].menfeng=l; l=-1;_t_score_disp(j, '#fff');if(++j>=_t_players) j=0;}_t_h5_next=setTimeout('M0001_1(); ', 800);}function M0001_1(){if(_t_last_helejia!=_t_zhuangjia){_t_h5_next=setTimeout('M0001(); ', 10);return;}_t_dice_erase(1);_t_h5_next=setTimeout('M0001(); ', 240);}function M0001(){_t_dice_erase(1);_t_banzhuang_started=1;var i=2; if(_t_gamemode==_T_GAMEMODE_TAIWAN) i++;_t_throw_dice(_t_jijia, i);_t_h5_next=setTimeout('WAIT_MOVIE("JIJIA_5"); ', 10);}function JIJIA_5(){if(_t_players==2) j=(_t_jijia+_t_dice[0]+_t_dice[1]-1) & 1;else if(_t_players==3) j=(_t_jijia+_t_dice[0]+_t_dice[1]-1) % 3;else if(_t_players==4){j=_t_jijia+_t_dice[0]+_t_dice[1];if(_t_gamemode==_T_GAMEMODE_TAIWAN) j+=_t_dice[2];j=(j-1) & 3;}_t_zhuangjia=_t_jijia=j;i=0x30; k=_t_players; while(--k>=0){_t[j].menfeng=++i;_t_score_disp(j, '#fff');if(++j>=_t_players) j=0;}str=_t_seat[_t_jijia]+'が起家になりました。';if(_t_lang=='en'){if(_t_players==2 && _t_jijia) str='I am the first starting player.';else if(!_t_jijia) str='You are the first starting player.';else str=_t_seat[_t_jijia]+' is the first starting player.';}_t_status_disp(str);inputKey=-1;_t_mini_console_disp();_t_h5_next=setTimeout('WAIT_MINICONSOLE("JIJIA_7"); ', 10);}function JIJIA_7(){_t_dice_erase(1);_t_status_erase();_t_console_erase();_t_h5_next=setTimeout('HAIPAI(); ', 10);}function HAIPAI(){if(_t_reach_mahjong_rule && _t_shibari==2){str='両翻縛りです。';if(_t_lang=='en') str='Two <i>fan</i> of <i>yaku</i> required to win on this game.';_t_status_disp(str);}var i=2; if(_t_gamemode==_T_GAMEMODE_TAIWAN) i++;_t_throw_dice(_t_zhuangjia, i);_t_h5_next=setTimeout('WAIT_MOVIE("HAIPAI_3"); ', 10);}function HAIPAI_3(){_t_h5_next=setTimeout('HAIPAI_START(); ', 640);}function HAIPAI_START(){k=_t_dice[0]+_t_dice[1];if(_t_gamemode==_T_GAMEMODE_TAIWAN) k+=_t_dice[2];if(_t_players==2) _t_kaimen_jia=(_t_zhuangjia+k-1) & 1;else if(_t_players==3) _t_kaimen_jia=(_t_zhuangjia+k-1) % 3;else if(_t_players==4) _t_kaimen_jia=(_t_zhuangjia+k-1) & 3;j=32; i=_t_kaimen_jia; while(--k>=0){do {if((j-=2)<0){j=30;if(--i<0) i=_t_players-1;}} while(!_t_bipai4disp[i][j]);}_t_kaimen_jia=i;_t_kaimen_pos=j;i=2;if(_t_rule.hana) i+=2;if(_t_players==3){if(_t_nukidora[3]>0) i+=2;if(_t_nukidora[2]>0) i+=2;if(_t_nukidora[1]>0) i+=2;if(_t_nukidora[0]>0) i+=2;if(_t_rule.lingshang_dora) ++i;}_t_lingshang_jia=_t_dora_jia=_t_mopai_jia=_t_kaimen_jia;_t_lingshang_pos=_t_dora_pos=_t_mopai_pos=_t_kaimen_pos;_t_dora_pos-=2;while(--i>=0){do {_t_dora_pos+=2;if(_t_dora_pos>=30){_t_dora_pos=0;if(++_t_dora_jia>=_t_players) _t_dora_jia=0;}} while(!_t_bipai4disp[_t_dora_jia][_t_dora_pos]);}_t_first_dora_jia2=_t_first_dora_jia=_t_dora_jia;_t_first_dora_pos2=_t_first_dora_pos=_t_dora_pos;_t_dora_ctr=1;_t_bipai_disp(_t_lingshang_jia);_t_dora_pos+=2;while(!_t_bipai4disp[_t_dora_jia][_t_dora_pos]){_t_dora_pos+=2;if(_t_dora_pos>=30){_t_dora_pos=0;if(++_t_dora_jia>=_t_players) _t_dora_jia=0;}}_t_first_dora_pos=_t_dora_pos;_t_first_dora_jia=_t_dora_jia;if(_t_gamemode==_T_GAMEMODE_TAIWAN){_t_dora_ctr=0;i=_t_players; while(--i>=0) _tm_baxianguohai_flag[i]=_tm_dapai_ctr[i]=0;_tm_dpC=0;var x=300, y;i=-1; while(++i<_tm_fusipaiX.length){y=146;j=-1; while(++j<_tm_fusipaiX[i].length){_tm_fusipaiX[i][j]=x;_tm_fusipaiY[i][j]=y;_tm_fusipaiA[i][j]=-1;_tm_fusipaiC[i][j]=0;y+=56;}x+=56;}_tm_baxianguohai=0;i=_t_lingshang_jia; j=0x31; k=_t_players; while(--k>=0){if(_t_banzhuang_started) _t[i].menfeng=j;_t_score_disp(i, '#fff');if(++i>=_t_players) i=0;++j;}}else if(_t_gamemode==_T_GAMEMODE_ARSHIAR || _t_gamemode==_T_GAMEMODE_PENGLI || _t_gamemode==_T_GAMEMODE_GUOJI) _t_dora_ctr=0;else _t_dora_disp();if(_t_gamemode==_T_GAMEMODE_TAIWAN){_t_h5_next=setTimeout('TM_HAIPAI(); ', 10);return;}do {_t_mopai_pos-=2;if(_t_mopai_pos<0){_t_mopai_pos=30;if(--_t_mopai_jia<0) _t_mopai_jia=_t_players-1;}} while(_t_bipai4disp[_t_mopai_jia][_t_mopai_pos]==0);_t[_t_zhuangjia].shupai[13]=_t_bipai[_t_mopai_ptr++];--_t[_t_zhuangjia].zampai_table[_t[_t_zhuangjia].shupai[13] & 0x7f];_t_bipai4disp[_t_mopai_jia][_t_mopai_pos]=0;i=2; if(_t_players!=4) i=1;j=_t_mopai_jia; k=_t_mopai_pos;while(--i>=0){do {k-=2;if(k<0){k=30;if(--j<0) j=_t_players-1;}} while(_t_bipai4disp[j][k]==0);}_t[_t_zhuangjia].shupai[14]=_t_bipai[_t_mopai_ptr++];--_t[_t_zhuangjia].zampai_table[_t[_t_zhuangjia].shupai[14] & 0x7f];_t_bipai4disp[j][k]=0;_t_bipai_disp();_t_from_bipai_to_shupai(_t_mopai_jia, _t_mopai_pos, _t_zhuangjia, 1);_t_h5_next=setTimeout('WAIT_MOVIE("HAIPAI_CHON"); ', 10);}function HAIPAI_CHON(){AUDIO_OUTPUT('mopai', false);_t_shupai_disp(_t_zhuangjia);_t_jia=_t_zhuangjia;_t_h5_next=setTimeout('HAIPAI_CHON1(); ', 100);}function HAIPAI_CHON1(){if(++_t_jia>=_t_players) _t_jia=0;if(_t_jia==_t_zhuangjia){_t_h5_next=setTimeout('HAIPAI_END(); ', 10);return;}do {if(!(_t_mopai_pos & 1)) ++_t_mopai_pos; else _t_mopai_pos-=3;if(_t_mopai_pos<0){_t_mopai_pos=30;if(--_t_mopai_jia<0) _t_mopai_jia=_t_players-1;}} while(_t_bipai4disp[_t_mopai_jia][_t_mopai_pos]==0);_t[_t_jia].shupai[13]=_t_bipai[_t_mopai_ptr++];--_t[_t_jia].zampai_table[_t[_t_jia].shupai[13] & 0x7f];_t_bipai4disp[_t_mopai_jia][_t_mopai_pos]=0;_t_bipai_disp();_t_from_bipai_to_shupai(_t_mopai_jia, _t_mopai_pos, _t_jia, 0);_t_h5_next=setTimeout('WAIT_MOVIE("HAIPAI_CHON3"); ', 10);}function HAIPAI_CHON3(){AUDIO_OUTPUT('mopai', false);_t_shupai_disp(_t_jia);_t_h5_next=setTimeout('HAIPAI_CHON1(); ', 100);}function HAIPAI_END(){_t_bipai4disp[_t_lingshang_jia][_t_lingshang_pos]=0;--_t_lingshang_pos;_t_bipai4disp[_t_lingshang_jia][_t_lingshang_pos]=-1;if(_t_players==4 && _t_lingshang_jia==2 && _t_lingshang_pos<3) _t_h5_bipai2cpuOffset=40;_t_bipai_disp();_t_haipai_flag=0;_t_jia=-1;_t_h5_next=setTimeout('HAIPAI_END2(); ', 10);}function HAIPAI_END2(){if(++_t_jia>=_t_players){_t_h5_next=setTimeout('HAIPAI_END3(); ', 10);return;}j=15; while(--j>=0){_t[_t_jia].shupai[j] &= 0xff;}_t_shupai_disp(_t_jia);_t_h5_next=setTimeout('HAIPAI_END2(); ', 10);}function HAIPAI_END3(){_t_haipai_flag=0;var i=_t_players;while(--i>=0){j=15; while(--j>=0){_t[i].shupai[j] &= 0x7f;}if(_t[i].open || _t_open_mode || i==0) _t_lipai(i);_t_shupai_disp(i);}_t_jia=_t_zhuangjia;_t_dajia=-1;_t_h5_next=setTimeout('HAIPAI_HANA(); ', 10);}function TM_HAIPAI(){_t_jia=_t_zhuangjia;do {if((_t_mopai_pos-=2)<0){_t_mopai_pos=30;if(--_t_mopai_jia<0) _t_mopai_jia=_t_players-1;}} while(_t_bipai4disp[_t_mopai_jia][_t_mopai_pos]==0);_t[_t_jia].shupai[14]=_t_bipai[_t_mopai_ptr++];--_t[_t_jia].zampai_table[_t[_t_jia].shupai[14] & 0x7f];_t_bipai4disp[_t_mopai_jia][_t_mopai_pos]=0;_t_bipai_disp();_t_from_bipai_to_shupai(_t_mopai_jia, _t_mopai_pos, _t_jia, 0);_t_h5_next=setTimeout('WAIT_MOVIE("TM_HAIPAI_HAIPAI_CHON"); ', 10);}function TM_HAIPAI_HAIPAI_CHON(){AUDIO_OUTPUT('mopai', false);_t_shupai_disp(_t_zhuangjia);_t_jia=_t_zhuangjia;_t_haipai_flag=0;_t_jia=-1;_t_h5_next=setTimeout('TM_HAIPAI_HAIPAI_END2(); ', 10);}function TM_HAIPAI_HAIPAI_END2(){if(++_t_jia>=_t_players){_t_h5_next=setTimeout('TM_HAIPAI_HAIPAI_END3(); ', 10);return;}j=20; while(--j>=0){_t[_t_jia].shupai[j] &= 0xff;}_t_shupai_disp(_t_jia);_t_h5_next=setTimeout('TM_HAIPAI_HAIPAI_END2(); ', 10);}function TM_HAIPAI_HAIPAI_END3(){_t_haipai_flag=0;i=_t_players;while(--i>=0){j=20; while(--j>=0){_t[i].shupai[j] &= 0x7f;}if(_t[i].open || _t_open_mode || i==0) _t_lipai(i);_t_shupai_disp(i);}_t_jia=_t_zhuangjia;_t_dajia=-1;_t_h5_next=setTimeout('HAIPAI_HANA(); ', 10);}function HAIPAI_HANA(){var i, j;_t[_t_jia].declare_command=0;_t[_t_jia].declare_param1=14;i=0x37; while(++i<0x40){j=20; while(--j>0){if((_t[_t_jia].shupai[j] & 0x3f)==i){_t[_t_jia].declare_command=-1;_t[_t_jia].declare_param1=j;break;}}if(j>0) break;}if(!_t[_t_jia].declare_command){_t_h5_next=setTimeout('HAIPAI_HANA_NEXT(); ', 10);return;}_t_get_nukidora_coords(_t_jia);_t_dapai_buff=_t[_t_jia].shupai[j];_t[_t_jia].shupai[j]=0;_t[_t_jia].nukidora[_t[_t_jia].nukidora_ctr++]=(_t_dapai_buff & 0x7f) | 0x10000;if(_t_jia==_t_zhuangjia){_t[_t_jia].shupai[_t[_t_jia].declare_param1]=_t[_t_jia].shupai[14];_t[_t_jia].shupai[14]=0;}_t_lipai(_t_jia);if(_t_gamemode==_T_GAMEMODE_TAIWAN){--_t_zampai_ctr;if(_t[_t_jia].nukidora_ctr>=8) _tm_baxianguohai_flag[_t_jia]=3;}else if(_t_gamemode==_T_GAMEMODE_GUOJI || _t_gamemode==_T_GAMEMODE_REACH) --_t_zampai_ctr;_t_from_shupai_to_he(_t_jia, _t[_t_jia].declare_param1, _t_dapai_buff & 0x7f, -1);_t_h5_next=setTimeout('WAIT_MOVIE("HAIPAI_HANA_3"); ', 10);}function HAIPAI_HANA_3(){var i, j;_t_shupai_disp(_t_jia);_t_cannot_dapai_pai1=_t_cannot_dapai_pai2=0;_t_ronghe_flag=0;_t_qianggang_flag=0;_t_pengchi_flag=0;_t_dapai_buff=_t[_t_jia].shupai[14]=_t_bipai[_t_mopai_ptr++] & 0x7f;_t_bipai4disp[_t_lingshang_jia][_t_lingshang_pos]=0;--_t[_t_jia].zampai_table[_t[_t_jia].shupai[14]];j=_t_lingshang_jia;i=_t_lingshang_pos;do {if(++_t_lingshang_pos>31){_t_lingshang_pos=0;if(++_t_lingshang_jia>=_t_players) _t_lingshang_jia=0;}} while(!_t_bipai4disp[_t_lingshang_jia][_t_lingshang_pos]);_t_bipai_disp();_t_from_bipai_to_shupai(j, i, _t_jia, 0);_t_h5_next=setTimeout('WAIT_MOVIE("HAIPAI_HANA_5"); ', 10);}function HAIPAI_HANA_5(){var i, j;AUDIO_OUTPUT('mopai', false);_t_shupai_disp(_t_jia);_t_h5_next=setTimeout('M0002(); ', 320);}function M0002(){var i, j;if(_t_jia!=_t_zhuangjia){i=17; while(--i>=0){j=_tm_suff[i];if(j!=14 && _t[_t_jia].shupai[j]==0) break;}if(i>=0){_t[_t_jia].shupai[j]=_t[_t_jia].shupai[14];_t[_t_jia].shupai[14]=0;}}_t_lipai(_t_jia);_t_shupai_disp(_t_jia);_t_h5_next=setTimeout('HAIPAI_HANA(); ', 10);}function HAIPAI_HANA_NEXT(){var i, j;if(++_t_jia>=_t_players) _t_jia=0;if(_t_jia!=_t_zhuangjia){_t_h5_next=setTimeout('HAIPAI_HANA(); ', 10);return;}a0090();i=_t_players; while(--i>=0){_t_shupai_disp(i);}_t_dajia=-1;_t_dice_erase(0);_t_h5_next=setTimeout('AFTER_MOPAI(); ', 10);}
